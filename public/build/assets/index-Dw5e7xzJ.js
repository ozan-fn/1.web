import{c as Te,r as c,u as Ce,j as t,a as xe,H as Ne}from"./app-1a0bI_7p.js";import{P as Ae,S as we,A as Ee,a as Fe,b as Ie,c as Oe,d as He,e as ke,f as Le,g as Be}from"./alert-dialog-snQ_b7mA.js";import{B as je}from"./button-BKHhlMeO.js";import{D as Me,a as Pe,b as Re,c as Ue,d as $e,e as qe}from"./dialog-YZA1gvhX.js";import{I as be}from"./input-dV03EG_-.js";import{L as Se}from"./label-DydCSjbF.js";import{T as ze}from"./textarea-CZSE5ULS.js";import{A as Ge}from"./app-layout-D_fSYAqa.js";import{d as O}from"./index-DGdR22o3.js";import{columns as Je}from"./columns-3llOvSVx.js";import{DataTable as Ke}from"./data-table-EjkwC5NL.js";/* empty css            */import"./createLucideIcon-De3FQ7uz.js";import"./index-BnyV_yvM.js";import"./index-BRUycdm2.js";import"./dropdown-menu-CI5yz9ai.js";import"./index-Bhpqllgs.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-DaBvW7ta.js";import"./trash-2-DtSoCzEE.js";import"./index-C2VaOoVZ.js";const Qe=[{title:"Dashboard",href:"/dashboard"},{title:"Tags",href:"/dashboard/tags"}];function ut(De){const e=Te.c(94),{tags:V,filters:a}=De,[ee,te]=c.useState(!1),[se,le]=c.useState(!1),[m,ge]=c.useState(null),[I,ue]=c.useState(null),[l,_e]=c.useState(a.search||"");let H;e[0]!==a.direction||e[1]!==a.field?(H=a.field?[{id:a.field,desc:a.direction==="desc"}]:[],e[0]=a.direction,e[1]=a.field,e[2]=H):H=e[2];const[i,ye]=c.useState(H);let k;e[3]!==a.search||e[4]!==l||e[5]!==i?(k=()=>{const s=setTimeout(()=>{l!==(a.search||"")&&xe.get(O.tags.index().url,{search:l,field:i[0]?.id,direction:i[0]?i[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[3]=a.search,e[4]=l,e[5]=i,e[6]=k):k=e[6];let L;e[7]!==l?(L=[l],e[7]=l,e[8]=L):L=e[8],c.useEffect(k,L);let B;e[9]!==l||e[10]!==i?(B=s=>{const o=typeof s=="function"?s(i):s;ye(o),xe.get(O.tags.index().url,{search:l,field:o[0]?.id,direction:o[0]?o[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[9]=l,e[10]=i,e[11]=B):B=e[11];const ae=B;let M;e[12]===Symbol.for("react.memo_cache_sentinel")?(M={name:"",description:""},e[12]=M):M=e[12];const{data:d,setData:r,post:ie,patch:re,delete:oe,processing:ne,reset:ce,errors:P}=Ce(M);let n,f,h;if(e[13]!==m||e[14]!==re||e[15]!==ie||e[16]!==ce||e[17]!==r){f=o=>{o.preventDefault(),m?re(O.tags.update(m.id).url,{onSuccess:()=>n()}):ie(O.tags.store().url,{onSuccess:()=>n()})};let s;e[21]!==r?(s=o=>{ge(o),r({name:o.name,description:o.description||""}),te(!0)},e[21]=r,e[22]=s):s=e[22],h=s,n=()=>{te(!1),ge(null),ce()},e[13]=m,e[14]=re,e[15]=ie,e[16]=ce,e[17]=r,e[18]=n,e[19]=f,e[20]=h}else n=e[18],f=e[19],h=e[20];let R;e[23]===Symbol.for("react.memo_cache_sentinel")?(R=s=>{ue(s),le(!0)},e[23]=R):R=e[23];const ve=R;let U;e[24]!==oe||e[25]!==I?(U=()=>{I&&oe(O.tags.destroy(I.id).url,{onSuccess:()=>{le(!1),ue(null)}})},e[24]=oe,e[25]=I,e[26]=U):U=e[26];const me=U;let $;e[27]!==h?($=Je(h,ve),e[27]=h,e[28]=$):$=e[28];const de=$;let q;e[29]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(Ne,{title:"Tags"}),e[29]=q):q=e[29];let z;e[30]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Tags"}),e[30]=z):z=e[30];let p;e[31]!==n?(p=s=>!s&&n(),e[31]=n,e[32]=p):p=e[32];let G;e[33]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(Me,{asChild:!0,children:t.jsxs(je,{onClick:()=>te(!0),children:[t.jsx(Ae,{className:"mr-2 h-4 w-4"})," Add Tag"]})}),e[33]=G):G=e[33];const fe=m?"Edit":"Create";let g;e[34]!==fe?(g=t.jsx(Pe,{children:t.jsxs(Re,{children:[fe," Tag"]})}),e[34]=fe,e[35]=g):g=e[35];let J;e[36]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Se,{htmlFor:"name",children:"Name"}),e[36]=J):J=e[36];let u;e[37]!==r?(u=s=>r("name",s.target.value),e[37]=r,e[38]=u):u=e[38];let x;e[39]!==d.name||e[40]!==u?(x=t.jsx(be,{id:"name",value:d.name,onChange:u}),e[39]=d.name,e[40]=u,e[41]=x):x=e[41];let j;e[42]!==P.name?(j=P.name&&t.jsx("p",{className:"text-sm text-red-500",children:P.name}),e[42]=P.name,e[43]=j):j=e[43];let b;e[44]!==x||e[45]!==j?(b=t.jsxs("div",{className:"grid gap-2",children:[J,x,j]}),e[44]=x,e[45]=j,e[46]=b):b=e[46];let K;e[47]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Se,{htmlFor:"description",children:"Description (Optional)"}),e[47]=K):K=e[47];let S;e[48]!==r?(S=s=>r("description",s.target.value),e[48]=r,e[49]=S):S=e[49];let D;e[50]!==d.description||e[51]!==S?(D=t.jsxs("div",{className:"grid gap-2",children:[K,t.jsx(ze,{id:"description",value:d.description,onChange:S})]}),e[50]=d.description,e[51]=S,e[52]=D):D=e[52];const he=m?"Update":"Save";let _;e[53]!==ne||e[54]!==he?(_=t.jsx(Ue,{children:t.jsxs(je,{type:"submit",disabled:ne,children:[he," Tag"]})}),e[53]=ne,e[54]=he,e[55]=_):_=e[55];let y;e[56]!==f||e[57]!==b||e[58]!==D||e[59]!==_?(y=t.jsxs("form",{onSubmit:f,className:"grid gap-4 py-4",children:[b,D,_]}),e[56]=f,e[57]=b,e[58]=D,e[59]=_,e[60]=y):y=e[60];let v;e[61]!==g||e[62]!==y?(v=t.jsxs($e,{className:"sm:max-w-[425px]",children:[g,y]}),e[61]=g,e[62]=y,e[63]=v):v=e[63];let T;e[64]!==ee||e[65]!==p||e[66]!==v?(T=t.jsxs("div",{className:"flex items-center justify-between",children:[z,t.jsxs(qe,{open:ee,onOpenChange:p,children:[G,v]})]}),e[64]=ee,e[65]=p,e[66]=v,e[67]=T):T=e[67];let Q;e[68]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(we,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[68]=Q):Q=e[68];let W;e[69]===Symbol.for("react.memo_cache_sentinel")?(W=s=>_e(s.target.value),e[69]=W):W=e[69];let C;e[70]!==l?(C=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[Q,t.jsx(be,{type:"search",placeholder:"Search tags...",className:"pl-8",value:l,onChange:W})]})}),e[70]=l,e[71]=C):C=e[71];let N;e[72]!==ae||e[73]!==i||e[74]!==de||e[75]!==V?(N=t.jsx(Ke,{columns:de,data:V,sorting:i,onSortingChange:ae}),e[72]=ae,e[73]=i,e[74]=de,e[75]=V,e[76]=N):N=e[76];let X;e[77]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Ee,{children:"Are you absolutely sure?"}),e[77]=X):X=e[77];const pe=I?.name;let A;e[78]!==pe?(A=t.jsxs(Fe,{children:[X,t.jsxs(Ie,{children:["This action cannot be undone. This will permanently delete the tag"," ",t.jsx("strong",{children:pe}),"."]})]}),e[78]=pe,e[79]=A):A=e[79];let Y;e[80]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Oe,{children:"Cancel"}),e[80]=Y):Y=e[80];let w;e[81]!==me?(w=t.jsxs(He,{children:[Y,t.jsx(ke,{onClick:me,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[81]=me,e[82]=w):w=e[82];let E;e[83]!==A||e[84]!==w?(E=t.jsxs(Le,{children:[A,w]}),e[83]=A,e[84]=w,e[85]=E):E=e[85];let F;e[86]!==se||e[87]!==E?(F=t.jsx(Be,{open:se,onOpenChange:le,children:E}),e[86]=se,e[87]=E,e[88]=F):F=e[88];let Z;return e[89]!==T||e[90]!==C||e[91]!==N||e[92]!==F?(Z=t.jsxs(Ge,{breadcrumbs:Qe,children:[q,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[T,C,N,F]})]}),e[89]=T,e[90]=C,e[91]=N,e[92]=F,e[93]=Z):Z=e[93],Z}export{ut as default};
