import{c as Me,r as m,u as Pe,j as t,a as Ie,H as Re}from"./app-C6aNbZtK.js";import{P as Ue,S as $e,A as qe,a as ze,b as Ge,c as Je,d as Ke,e as Qe,f as We,g as Xe}from"./alert-dialog-C2JHcfXC.js";import{B as ke}from"./button-D35IbtS2.js";import{D as Ye,a as Ze,b as Ve,c as et,d as tt,e as st}from"./dialog-C6iS31m8.js";import{I as Te}from"./input-z5Dj0cf1.js";import{L as $}from"./label-CftUm6OD.js";import{S as Ee}from"./switch-DzZBxsw6.js";import{T as lt}from"./textarea-ChBgQ74L.js";import{A as it}from"./app-layout-DS-hg9fm.js";import{d as q}from"./index-DGdR22o3.js";import{columns as at}from"./columns-DLa6mZIW.js";import{DataTable as rt}from"./data-table-SLmt2LkT.js";/* empty css            */import"./createLucideIcon-C_Qutkto.js";import"./index-NasusMmH.js";import"./index-CP8rp3no.js";import"./index-BLRGz9zK.js";import"./dropdown-menu-BRHTCq_-.js";import"./index-Bhpqllgs.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-Bf9uezcb.js";import"./trash-2-uF_hTlx2.js";import"./index-CApf2YQs.js";const ot=[{title:"Dashboard",href:"/dashboard"},{title:"Categories",href:"/dashboard/categories"}];function It(Oe){const e=Me.c(121),{categories:fe,filters:o}=Oe,[he,pe]=m.useState(!1),[ge,xe]=m.useState(!1),[d,we]=m.useState(null),[U,Fe]=m.useState(null),[a,He]=m.useState(o.search||"");let z;e[0]!==o.direction||e[1]!==o.field?(z=o.field?[{id:o.field,desc:o.direction==="desc"}]:[],e[0]=o.direction,e[1]=o.field,e[2]=z):z=e[2];const[n,Le]=m.useState(z);let G;e[3]!==o.search||e[4]!==a||e[5]!==n?(G=()=>{const s=setTimeout(()=>{a!==(o.search||"")&&Ie.get(q.categories.index().url,{search:a,field:n[0]?.id,direction:n[0]?n[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[3]=o.search,e[4]=a,e[5]=n,e[6]=G):G=e[6];let J;e[7]!==a?(J=[a],e[7]=a,e[8]=J):J=e[8],m.useEffect(G,J);let K;e[9]!==a||e[10]!==n?(K=s=>{const r=typeof s=="function"?s(n):s;Le(r),Ie.get(q.categories.index().url,{search:a,field:r[0]?.id,direction:r[0]?r[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[9]=a,e[10]=n,e[11]=K):K=e[11];const ue=K;let Q;e[12]===Symbol.for("react.memo_cache_sentinel")?(Q={name:"",description:"",order:0,is_nav:!0,is_homepage:!1},e[12]=Q):Q=e[12];const{data:i,setData:l,post:je,patch:_e,delete:be,processing:ve,reset:Se,errors:W}=Pe(Q);let c,f,h;if(e[13]!==d||e[14]!==_e||e[15]!==je||e[16]!==Se||e[17]!==l){f=r=>{r.preventDefault(),d?_e(q.categories.update(d.id).url,{onSuccess:()=>c()}):je(q.categories.store().url,{onSuccess:()=>c()})};let s;e[21]!==l?(s=r=>{we(r),l({name:r.name,description:r.description||"",order:r.order,is_nav:r.is_nav,is_homepage:r.is_homepage}),pe(!0)},e[21]=l,e[22]=s):s=e[22],h=s,c=()=>{pe(!1),we(null),Se()},e[13]=d,e[14]=_e,e[15]=je,e[16]=Se,e[17]=l,e[18]=c,e[19]=f,e[20]=h}else c=e[18],f=e[19],h=e[20];let X;e[23]===Symbol.for("react.memo_cache_sentinel")?(X=s=>{Fe(s),xe(!0)},e[23]=X):X=e[23];const Be=X;let Y;e[24]!==U||e[25]!==be?(Y=()=>{U&&be(q.categories.destroy(U.id).url,{onSuccess:()=>{xe(!1),Fe(null)}})},e[24]=U,e[25]=be,e[26]=Y):Y=e[26];const ye=Y;let Z;e[27]!==h?(Z=at(h,Be),e[27]=h,e[28]=Z):Z=e[28];const De=Z;let V;e[29]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(Re,{title:"Categories"}),e[29]=V):V=e[29];let ee;e[30]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Categories"}),e[30]=ee):ee=e[30];let p;e[31]!==c?(p=s=>!s&&c(),e[31]=c,e[32]=p):p=e[32];let te;e[33]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(Ye,{asChild:!0,children:t.jsxs(ke,{onClick:()=>pe(!0),children:[t.jsx(Ue,{className:"mr-2 h-4 w-4"})," Add Category"]})}),e[33]=te):te=e[33];const Ce=d?"Edit":"Create";let g;e[34]!==Ce?(g=t.jsx(Ze,{children:t.jsxs(Ve,{children:[Ce," Category"]})}),e[34]=Ce,e[35]=g):g=e[35];let se;e[36]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx($,{htmlFor:"name",children:"Name"}),e[36]=se):se=e[36];let x;e[37]!==l?(x=s=>l("name",s.target.value),e[37]=l,e[38]=x):x=e[38];let u;e[39]!==i.name||e[40]!==x?(u=t.jsx(Te,{id:"name",value:i.name,onChange:x}),e[39]=i.name,e[40]=x,e[41]=u):u=e[41];let j;e[42]!==W.name?(j=W.name&&t.jsx("p",{className:"text-sm text-red-500",children:W.name}),e[42]=W.name,e[43]=j):j=e[43];let _;e[44]!==u||e[45]!==j?(_=t.jsxs("div",{className:"grid gap-2",children:[se,u,j]}),e[44]=u,e[45]=j,e[46]=_):_=e[46];let le;e[47]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx($,{htmlFor:"description",children:"Description (Optional)"}),e[47]=le):le=e[47];let b;e[48]!==l?(b=s=>l("description",s.target.value),e[48]=l,e[49]=b):b=e[49];let v;e[50]!==i.description||e[51]!==b?(v=t.jsxs("div",{className:"grid gap-2",children:[le,t.jsx(lt,{id:"description",value:i.description,onChange:b})]}),e[50]=i.description,e[51]=b,e[52]=v):v=e[52];let ie;e[53]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx($,{htmlFor:"order",children:"Display Order"}),e[53]=ie):ie=e[53];let S;e[54]!==l?(S=s=>l("order",parseInt(s.target.value)||0),e[54]=l,e[55]=S):S=e[55];let y;e[56]!==i.order||e[57]!==S?(y=t.jsxs("div",{className:"grid gap-2",children:[ie,t.jsx(Te,{id:"order",type:"number",value:i.order,onChange:S})]}),e[56]=i.order,e[57]=S,e[58]=y):y=e[58];let D;e[59]!==l?(D=s=>l("is_nav",s),e[59]=l,e[60]=D):D=e[60];let C;e[61]!==i.is_nav||e[62]!==D?(C=t.jsx(Ee,{id:"is_nav",checked:i.is_nav,onCheckedChange:D}),e[61]=i.is_nav,e[62]=D,e[63]=C):C=e[63];let ae;e[64]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx($,{htmlFor:"is_nav",children:"In Navbar"}),e[64]=ae):ae=e[64];let N;e[65]!==C?(N=t.jsx("div",{className:"flex flex-col justify-end gap-2 pb-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[C,ae]})}),e[65]=C,e[66]=N):N=e[66];let A;e[67]!==l?(A=s=>l("is_homepage",s),e[67]=l,e[68]=A):A=e[68];let T;e[69]!==i.is_homepage||e[70]!==A?(T=t.jsx(Ee,{id:"is_homepage",checked:i.is_homepage,onCheckedChange:A}),e[69]=i.is_homepage,e[70]=A,e[71]=T):T=e[71];let re;e[72]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx($,{htmlFor:"is_homepage",children:"In Home"}),e[72]=re):re=e[72];let w;e[73]!==T?(w=t.jsx("div",{className:"flex flex-col justify-end gap-2 pb-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[T,re]})}),e[73]=T,e[74]=w):w=e[74];let F;e[75]!==y||e[76]!==N||e[77]!==w?(F=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y,N,w]}),e[75]=y,e[76]=N,e[77]=w,e[78]=F):F=e[78];const Ne=d?"Update":"Save";let I;e[79]!==ve||e[80]!==Ne?(I=t.jsx(et,{children:t.jsxs(ke,{type:"submit",disabled:ve,children:[Ne," Category"]})}),e[79]=ve,e[80]=Ne,e[81]=I):I=e[81];let k;e[82]!==f||e[83]!==_||e[84]!==v||e[85]!==F||e[86]!==I?(k=t.jsxs("form",{onSubmit:f,className:"grid gap-4 py-4",children:[_,v,F,I]}),e[82]=f,e[83]=_,e[84]=v,e[85]=F,e[86]=I,e[87]=k):k=e[87];let E;e[88]!==g||e[89]!==k?(E=t.jsxs(tt,{className:"sm:max-w-[425px]",children:[g,k]}),e[88]=g,e[89]=k,e[90]=E):E=e[90];let O;e[91]!==he||e[92]!==p||e[93]!==E?(O=t.jsxs("div",{className:"flex items-center justify-between",children:[ee,t.jsxs(st,{open:he,onOpenChange:p,children:[te,E]})]}),e[91]=he,e[92]=p,e[93]=E,e[94]=O):O=e[94];let oe;e[95]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx($e,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[95]=oe):oe=e[95];let ne;e[96]===Symbol.for("react.memo_cache_sentinel")?(ne=s=>He(s.target.value),e[96]=ne):ne=e[96];let H;e[97]!==a?(H=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[oe,t.jsx(Te,{type:"search",placeholder:"Search categories...",className:"pl-8",value:a,onChange:ne})]})}),e[97]=a,e[98]=H):H=e[98];let L;e[99]!==fe||e[100]!==ue||e[101]!==n||e[102]!==De?(L=t.jsx(rt,{columns:De,data:fe,sorting:n,onSortingChange:ue}),e[99]=fe,e[100]=ue,e[101]=n,e[102]=De,e[103]=L):L=e[103];let ce;e[104]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(qe,{children:"Are you absolutely sure?"}),e[104]=ce):ce=e[104];const Ae=U?.name;let B;e[105]!==Ae?(B=t.jsxs(ze,{children:[ce,t.jsxs(Ge,{children:["This action cannot be undone. This will permanently delete the category"," ",t.jsx("strong",{children:Ae}),"."]})]}),e[105]=Ae,e[106]=B):B=e[106];let me;e[107]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Je,{children:"Cancel"}),e[107]=me):me=e[107];let M;e[108]!==ye?(M=t.jsxs(Ke,{children:[me,t.jsx(Qe,{onClick:ye,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[108]=ye,e[109]=M):M=e[109];let P;e[110]!==B||e[111]!==M?(P=t.jsxs(We,{children:[B,M]}),e[110]=B,e[111]=M,e[112]=P):P=e[112];let R;e[113]!==ge||e[114]!==P?(R=t.jsx(Xe,{open:ge,onOpenChange:xe,children:P}),e[113]=ge,e[114]=P,e[115]=R):R=e[115];let de;return e[116]!==O||e[117]!==H||e[118]!==L||e[119]!==R?(de=t.jsxs(it,{breadcrumbs:ot,children:[V,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[O,H,L,R]})]}),e[116]=O,e[117]=H,e[118]=L,e[119]=R,e[120]=de):de=e[120],de}export{It as default};
