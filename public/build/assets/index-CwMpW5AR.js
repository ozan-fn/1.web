import{c as J,r as h,j as t,L as K,a as F,H as Q}from"./app-C6aNbZtK.js";import{P as U,S as W,A as X,a as Y,b as Z,c as V,d as ee,e as te,f as se,g as le}from"./alert-dialog-C2JHcfXC.js";import{B as oe}from"./button-D35IbtS2.js";import{I as re}from"./input-z5Dj0cf1.js";import{A as ie}from"./app-layout-DS-hg9fm.js";import{d as E}from"./index-DGdR22o3.js";import{columns as ae}from"./columns-2qUJCNsl.js";import{DataTable as ce}from"./data-table-DdALXqCR.js";/* empty css            */import"./createLucideIcon-C_Qutkto.js";import"./index-NasusMmH.js";import"./dropdown-menu-BRHTCq_-.js";import"./index-CP8rp3no.js";import"./index-Bhpqllgs.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-Bf9uezcb.js";import"./trash-2-uF_hTlx2.js";import"./eye-5fyLr6ob.js";import"./index-CApf2YQs.js";const ne=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/dashboard/posts"}];function Te(O){const e=J.c(44),{posts:I,filters:l}=O,[k,H]=h.useState(!1),[f,M]=h.useState(null),[s,$]=h.useState(l.search||"");let p;e[0]!==l.direction||e[1]!==l.field?(p=l.field?[{id:l.field,desc:l.direction==="desc"}]:[],e[0]=l.direction,e[1]=l.field,e[2]=p):p=e[2];const[o,q]=h.useState(p);let u;e[3]!==l.search||e[4]!==s||e[5]!==o?(u=()=>{const r=setTimeout(()=>{s!==(l.search||"")&&F.get(E.posts.index().url,{search:s,field:o[0]?.id,direction:o[0]?o[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(r)},e[3]=l.search,e[4]=s,e[5]=o,e[6]=u):u=e[6];let x;e[7]!==s?(x=[s],e[7]=s,e[8]=x):x=e[8],h.useEffect(u,x);let g;e[9]!==s||e[10]!==o?(g=r=>{const w=typeof r=="function"?r(o):r;q(w),F.get(E.posts.index().url,{search:s,field:w[0]?.id,direction:w[0]?w[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[9]=s,e[10]=o,e[11]=g):g=e[11];const L=g;let b;e[12]===Symbol.for("react.memo_cache_sentinel")?(b=r=>{M(r),H(!0)},e[12]=b):b=e[12];const z=b;let j;e[13]!==f?(j=()=>{f&&F.delete(E.posts.destroy(f.id).url,{onSuccess:()=>{H(!1),M(null)}})},e[13]=f,e[14]=j):j=e[14];const B=j;let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=ae(z),e[15]=S):S=e[15];const G=S;let _;e[16]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(Q,{title:"Posts"}),e[16]=_):_=e[16];let y;e[17]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Posts"}),e[17]=y):y=e[17];let D;e[18]===Symbol.for("react.memo_cache_sentinel")?(D=E.posts.create(),e[18]=D):D=e[18];let A;e[19]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs("div",{className:"flex items-center justify-between",children:[y,t.jsx(oe,{asChild:!0,children:t.jsxs(K,{href:D.url,children:[t.jsx(U,{className:"mr-2 h-4 w-4"})," Add Post"]})})]}),e[19]=A):A=e[19];let v;e[20]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(W,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[20]=v):v=e[20];let C;e[21]===Symbol.for("react.memo_cache_sentinel")?(C=r=>$(r.target.value),e[21]=C):C=e[21];let i;e[22]!==s?(i=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[v,t.jsx(re,{type:"search",placeholder:"Search posts...",className:"pl-8",value:s,onChange:C})]})}),e[22]=s,e[23]=i):i=e[23];let a;e[24]!==L||e[25]!==I||e[26]!==o?(a=t.jsx(ce,{columns:G,data:I,sorting:o,onSortingChange:L}),e[24]=L,e[25]=I,e[26]=o,e[27]=a):a=e[27];let N;e[28]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(X,{children:"Are you absolutely sure?"}),e[28]=N):N=e[28];const R=f?.title;let c;e[29]!==R?(c=t.jsxs(Y,{children:[N,t.jsxs(Z,{children:["This action cannot be undone. This will permanently delete the post"," ",t.jsx("strong",{children:R}),"."]})]}),e[29]=R,e[30]=c):c=e[30];let P;e[31]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(V,{children:"Cancel"}),e[31]=P):P=e[31];let n;e[32]!==B?(n=t.jsxs(ee,{children:[P,t.jsx(te,{onClick:B,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[32]=B,e[33]=n):n=e[33];let m;e[34]!==c||e[35]!==n?(m=t.jsxs(se,{children:[c,n]}),e[34]=c,e[35]=n,e[36]=m):m=e[36];let d;e[37]!==k||e[38]!==m?(d=t.jsx(le,{open:k,onOpenChange:H,children:m}),e[37]=k,e[38]=m,e[39]=d):d=e[39];let T;return e[40]!==i||e[41]!==a||e[42]!==d?(T=t.jsxs(ie,{breadcrumbs:ne,children:[_,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[A,i,a,d]})]}),e[40]=i,e[41]=a,e[42]=d,e[43]=T):T=e[43],T}export{Te as default};
