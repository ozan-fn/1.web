import{c as Pe,r as U,u as Ve,j as t,a as Be,H as Me}from"./app-B_dCJ2hx.js";import{S as Re,A as Ue,a as $e,b as qe,c as ze,d as Ge,e as Je,f as Ke,g as Qe}from"./alert-dialog-DXm1dJqr.js";import{B as Ie}from"./button-D5f1oLmZ.js";import{D as We,a as Xe,b as Ye,c as Ze,d as et,e as tt}from"./dialog-DCM7VRnC.js";import{I as Fe}from"./input-CQ3MwCxk.js";import{L as z}from"./label-DMzyiSmL.js";import{a as st,b as lt,c as rt,S as it,d as at}from"./select-DfxDsdPP.js";import{S as ot}from"./switch-D4HVx06f.js";import{T as ct}from"./textarea-BCGge01J.js";import{A as nt}from"./app-layout-DEYZSHNK.js";import{d as he}from"./index-CjBD6dYK.js";import{columns as mt}from"./columns-B_PJkiwF.js";import{DataTable as dt}from"./data-table-Z6dJkPrn.js";import{P as ft}from"./plus-DTNgFzSE.js";/* empty css            */import"./createLucideIcon-DgdCX-Ht.js";import"./index-D7kH7AxJ.js";import"./index-Cl1HCaiB.js";import"./dropdown-menu-xVg6e8MZ.js";import"./index-D8KDsfPF.js";import"./check-BwPzoCp7.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-CvDZrzc3.js";import"./ellipsis-CVzVemjJ.js";import"./trash-2-D60aVfv0.js";import"./table-D_nJFxZ_.js";import"./index-BgW4U3LS.js";const ht=[{title:"Dashboard",href:"/dashboard"},{title:"Sub Categories",href:"/dashboard/sub-categories"}];function $t($){const e=Pe.c(121),{subCategories:pe,categories:ue,filters:G}=$,[ge,xe]=U.useState(!1),[je,be]=U.useState(!1),[n,Oe]=U.useState(null),[q,Ee]=U.useState(null),[i,ke]=U.useState(G.search||"");let J;e[0]!==G.search||e[1]!==i?(J=()=>{const s=setTimeout(()=>{i!==(G.search||"")&&Be.get(he.subCategories.index().url,{search:i},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[0]=G.search,e[1]=i,e[2]=J):J=e[2];let K;e[3]!==i?(K=[i],e[3]=i,e[4]=K):K=e[4],U.useEffect(J,K);let Q;e[5]===Symbol.for("react.memo_cache_sentinel")?(Q={category_id:"",name:"",description:"",order:0,is_show:!0},e[5]=Q):Q=e[5];const{data:r,setData:l,post:_e,patch:Se,delete:ye,processing:De,reset:Ce,errors:a}=Ve(Q);let o,m,d;if(e[6]!==n||e[7]!==Se||e[8]!==_e||e[9]!==Ce||e[10]!==l){m=c=>{c.preventDefault(),n?Se(he.subCategories.update(n.id).url,{onSuccess:()=>o()}):_e(he.subCategories.store().url,{onSuccess:()=>o()})};let s;e[14]!==l?(s=c=>{Oe(c),l({category_id:c.category_id.toString(),name:c.name,description:c.description||"",order:c.order,is_show:c.is_show}),xe(!0)},e[14]=l,e[15]=s):s=e[15],d=s,o=()=>{xe(!1),Oe(null),Ce()},e[6]=n,e[7]=Se,e[8]=_e,e[9]=Ce,e[10]=l,e[11]=o,e[12]=m,e[13]=d}else o=e[11],m=e[12],d=e[13];let W;e[16]===Symbol.for("react.memo_cache_sentinel")?(W=s=>{Ee(s),be(!0)},e[16]=W):W=e[16];const He=W;let X;e[17]!==ye||e[18]!==q?(X=()=>{q&&ye(he.subCategories.destroy(q.id).url,{onSuccess:()=>{be(!1),Ee(null)}})},e[17]=ye,e[18]=q,e[19]=X):X=e[19];const ve=X;let Y;e[20]!==d?(Y=mt(d,He),e[20]=d,e[21]=Y):Y=e[21];const Ne=Y;let Z;e[22]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Me,{title:"Sub Categories"}),e[22]=Z):Z=e[22];let ee;e[23]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Sub Categories"}),e[23]=ee):ee=e[23];let f;e[24]!==o?(f=s=>!s&&o(),e[24]=o,e[25]=f):f=e[25];let te;e[26]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(We,{asChild:!0,children:t.jsxs(Ie,{onClick:()=>xe(!0),children:[t.jsx(ft,{className:"mr-2 h-4 w-4"})," Add Sub Category"]})}),e[26]=te):te=e[26];const we=n?"Edit":"Create";let h;e[27]!==we?(h=t.jsx(Xe,{children:t.jsxs(Ye,{children:[we," Sub Category"]})}),e[27]=we,e[28]=h):h=e[28];let se;e[29]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(z,{htmlFor:"category_id",children:"Parent Category"}),e[29]=se):se=e[29];const Le=r.category_id;let p;e[30]!==l?(p=s=>l("category_id",s),e[30]=l,e[31]=p):p=e[31];let le;e[32]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(st,{children:t.jsx(lt,{placeholder:"Select a category"})}),e[32]=le):le=e[32];let u;e[33]!==ue?(u=ue.map(pt),e[33]=ue,e[34]=u):u=e[34];let g;e[35]!==u?(g=t.jsx(rt,{children:u}),e[35]=u,e[36]=g):g=e[36];let x;e[37]!==r.category_id||e[38]!==p||e[39]!==g?(x=t.jsxs(it,{value:Le,onValueChange:p,children:[le,g]}),e[37]=r.category_id,e[38]=p,e[39]=g,e[40]=x):x=e[40];let j;e[41]!==a.category_id?(j=a.category_id&&t.jsx("p",{className:"text-sm text-red-500",children:a.category_id}),e[41]=a.category_id,e[42]=j):j=e[42];let b;e[43]!==x||e[44]!==j?(b=t.jsxs("div",{className:"grid gap-2",children:[se,x,j]}),e[43]=x,e[44]=j,e[45]=b):b=e[45];let re;e[46]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(z,{htmlFor:"name",children:"Name"}),e[46]=re):re=e[46];let _;e[47]!==l?(_=s=>l("name",s.target.value),e[47]=l,e[48]=_):_=e[48];let S;e[49]!==r.name||e[50]!==_?(S=t.jsx(Fe,{id:"name",value:r.name,onChange:_}),e[49]=r.name,e[50]=_,e[51]=S):S=e[51];let y;e[52]!==a.name?(y=a.name&&t.jsx("p",{className:"text-sm text-red-500",children:a.name}),e[52]=a.name,e[53]=y):y=e[53];let D;e[54]!==S||e[55]!==y?(D=t.jsxs("div",{className:"grid gap-2",children:[re,S,y]}),e[54]=S,e[55]=y,e[56]=D):D=e[56];let ie;e[57]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(z,{htmlFor:"description",children:"Description (Optional)"}),e[57]=ie):ie=e[57];let C;e[58]!==l?(C=s=>l("description",s.target.value),e[58]=l,e[59]=C):C=e[59];let v;e[60]!==r.description||e[61]!==C?(v=t.jsxs("div",{className:"grid gap-2",children:[ie,t.jsx(ct,{id:"description",value:r.description,onChange:C})]}),e[60]=r.description,e[61]=C,e[62]=v):v=e[62];let ae;e[63]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(z,{htmlFor:"order",children:"Display Order"}),e[63]=ae):ae=e[63];let N;e[64]!==l?(N=s=>l("order",parseInt(s.target.value)||0),e[64]=l,e[65]=N):N=e[65];let w;e[66]!==r.order||e[67]!==N?(w=t.jsxs("div",{className:"grid gap-2",children:[ae,t.jsx(Fe,{id:"order",type:"number",value:r.order,onChange:N})]}),e[66]=r.order,e[67]=N,e[68]=w):w=e[68];let A;e[69]!==l?(A=s=>l("is_show",s),e[69]=l,e[70]=A):A=e[70];let T;e[71]!==r.is_show||e[72]!==A?(T=t.jsx(ot,{id:"is_show",checked:r.is_show,onCheckedChange:A}),e[71]=r.is_show,e[72]=A,e[73]=T):T=e[73];let oe;e[74]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(z,{htmlFor:"is_show",children:"Visible"}),e[74]=oe):oe=e[74];let F;e[75]!==T?(F=t.jsx("div",{className:"flex flex-col justify-end gap-2 pb-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[T,oe]})}),e[75]=T,e[76]=F):F=e[76];let O;e[77]!==w||e[78]!==F?(O=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w,F]}),e[77]=w,e[78]=F,e[79]=O):O=e[79];const Ae=n?"Update":"Save";let E;e[80]!==De||e[81]!==Ae?(E=t.jsx(Ze,{children:t.jsxs(Ie,{type:"submit",disabled:De,children:[Ae," Sub Category"]})}),e[80]=De,e[81]=Ae,e[82]=E):E=e[82];let I;e[83]!==m||e[84]!==b||e[85]!==D||e[86]!==v||e[87]!==O||e[88]!==E?(I=t.jsxs("form",{onSubmit:m,className:"grid gap-4 py-4",children:[b,D,v,O,E]}),e[83]=m,e[84]=b,e[85]=D,e[86]=v,e[87]=O,e[88]=E,e[89]=I):I=e[89];let k;e[90]!==h||e[91]!==I?(k=t.jsxs(et,{className:"sm:max-w-[425px]",children:[h,I]}),e[90]=h,e[91]=I,e[92]=k):k=e[92];let H;e[93]!==ge||e[94]!==k||e[95]!==f?(H=t.jsxs("div",{className:"flex items-center justify-between",children:[ee,t.jsxs(tt,{open:ge,onOpenChange:f,children:[te,k]})]}),e[93]=ge,e[94]=k,e[95]=f,e[96]=H):H=e[96];let ce;e[97]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Re,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[97]=ce):ce=e[97];let ne;e[98]===Symbol.for("react.memo_cache_sentinel")?(ne=s=>ke(s.target.value),e[98]=ne):ne=e[98];let L;e[99]!==i?(L=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[ce,t.jsx(Fe,{type:"search",placeholder:"Search sub categories...",className:"pl-8",value:i,onChange:ne})]})}),e[99]=i,e[100]=L):L=e[100];let P;e[101]!==pe||e[102]!==Ne?(P=t.jsx(dt,{columns:Ne,data:pe}),e[101]=pe,e[102]=Ne,e[103]=P):P=e[103];let me;e[104]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Ue,{children:"Are you absolutely sure?"}),e[104]=me):me=e[104];const Te=q?.name;let V;e[105]!==Te?(V=t.jsxs($e,{children:[me,t.jsxs(qe,{children:["This action cannot be undone. This will permanently delete the sub category"," ",t.jsx("strong",{children:Te}),"."]})]}),e[105]=Te,e[106]=V):V=e[106];let de;e[107]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(ze,{children:"Cancel"}),e[107]=de):de=e[107];let B;e[108]!==ve?(B=t.jsxs(Ge,{children:[de,t.jsx(Je,{onClick:ve,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[108]=ve,e[109]=B):B=e[109];let M;e[110]!==V||e[111]!==B?(M=t.jsxs(Ke,{children:[V,B]}),e[110]=V,e[111]=B,e[112]=M):M=e[112];let R;e[113]!==je||e[114]!==M?(R=t.jsx(Qe,{open:je,onOpenChange:be,children:M}),e[113]=je,e[114]=M,e[115]=R):R=e[115];let fe;return e[116]!==H||e[117]!==L||e[118]!==P||e[119]!==R?(fe=t.jsxs(nt,{breadcrumbs:ht,children:[Z,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[H,L,P,R]})]}),e[116]=H,e[117]=L,e[118]=P,e[119]=R,e[120]=fe):fe=e[120],fe}function pt($){return t.jsx(at,{value:$.id.toString(),children:$.name},$.id)}export{$t as default};
