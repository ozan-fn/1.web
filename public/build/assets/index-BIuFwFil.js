import{c as be,r as C,u as De,j as t,a as Se,H as _e}from"./app-Bk0p4fLC.js";import{S as ye,A as Te,a as ve,b as Ne,c as Ae,d as Ce,e as we,f as Ee,g as Oe}from"./alert-dialog-BUUs1mLj.js";import{B as pe}from"./button-BmtzS8-p.js";import{D as Fe,a as Ie,b as He,c as ke,d as Le,e as Be}from"./dialog-DmrjsCVo.js";import{I as he}from"./input-DB5b13db.js";import{L as ue}from"./label-WQdmmKNz.js";import{T as Me}from"./textarea-C8qx1_e5.js";import{A as Pe}from"./app-layout-C5KB0Va-.js";import{d as V}from"./index-CjBD6dYK.js";import{columns as Re}from"./columns-6Uh3XcAF.js";import{DataTable as Ue}from"./data-table-DXcpifA0.js";import{P as $e}from"./plus-DVED2VEz.js";/* empty css            */import"./createLucideIcon-Bb78ehm2.js";import"./index-pCr455uF.js";import"./index-D0zTu_qL.js";import"./dropdown-menu-CyeQOT4T.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-D87pMpWQ.js";import"./ellipsis-B1N5RaxT.js";import"./trash-2-NNDEGNDn.js";import"./table-D8GuRzvm.js";import"./index-Bz6Ct_EA.js";const qe=[{title:"Dashboard",href:"/dashboard"},{title:"Tags",href:"/dashboard/tags"}];function ht(ge){const e=be.c(85),{tags:W,filters:O}=ge,[X,Y]=C.useState(!1),[Z,ee]=C.useState(!1),[i,de]=C.useState(null),[w,fe]=C.useState(null),[a,xe]=C.useState(O.search||"");let F;e[0]!==O.search||e[1]!==a?(F=()=>{const s=setTimeout(()=>{a!==(O.search||"")&&Se.get(V.tags.index().url,{search:a},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[0]=O.search,e[1]=a,e[2]=F):F=e[2];let I;e[3]!==a?(I=[a],e[3]=a,e[4]=I):I=e[4],C.useEffect(F,I);let H;e[5]===Symbol.for("react.memo_cache_sentinel")?(H={name:"",description:""},e[5]=H):H=e[5];const{data:o,setData:l,post:te,patch:se,delete:le,processing:ae,reset:re,errors:k}=De(H);let r,n,c;if(e[6]!==i||e[7]!==se||e[8]!==te||e[9]!==re||e[10]!==l){n=E=>{E.preventDefault(),i?se(V.tags.update(i.id).url,{onSuccess:()=>r()}):te(V.tags.store().url,{onSuccess:()=>r()})};let s;e[14]!==l?(s=E=>{de(E),l({name:E.name,description:E.description||""}),Y(!0)},e[14]=l,e[15]=s):s=e[15],c=s,r=()=>{Y(!1),de(null),re()},e[6]=i,e[7]=se,e[8]=te,e[9]=re,e[10]=l,e[11]=r,e[12]=n,e[13]=c}else r=e[11],n=e[12],c=e[13];let L;e[16]===Symbol.for("react.memo_cache_sentinel")?(L=s=>{fe(s),ee(!0)},e[16]=L):L=e[16];const je=L;let B;e[17]!==le||e[18]!==w?(B=()=>{w&&le(V.tags.destroy(w.id).url,{onSuccess:()=>{ee(!1),fe(null)}})},e[17]=le,e[18]=w,e[19]=B):B=e[19];const ie=B;let M;e[20]!==c?(M=Re(c,je),e[20]=c,e[21]=M):M=e[21];const oe=M;let P;e[22]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(_e,{title:"Tags"}),e[22]=P):P=e[22];let R;e[23]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Tags"}),e[23]=R):R=e[23];let m;e[24]!==r?(m=s=>!s&&r(),e[24]=r,e[25]=m):m=e[25];let U;e[26]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(Fe,{asChild:!0,children:t.jsxs(pe,{onClick:()=>Y(!0),children:[t.jsx($e,{className:"mr-2 h-4 w-4"})," Add Tag"]})}),e[26]=U):U=e[26];const ne=i?"Edit":"Create";let d;e[27]!==ne?(d=t.jsx(Ie,{children:t.jsxs(He,{children:[ne," Tag"]})}),e[27]=ne,e[28]=d):d=e[28];let $;e[29]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(ue,{htmlFor:"name",children:"Name"}),e[29]=$):$=e[29];let f;e[30]!==l?(f=s=>l("name",s.target.value),e[30]=l,e[31]=f):f=e[31];let p;e[32]!==o.name||e[33]!==f?(p=t.jsx(he,{id:"name",value:o.name,onChange:f}),e[32]=o.name,e[33]=f,e[34]=p):p=e[34];let h;e[35]!==k.name?(h=k.name&&t.jsx("p",{className:"text-sm text-red-500",children:k.name}),e[35]=k.name,e[36]=h):h=e[36];let u;e[37]!==p||e[38]!==h?(u=t.jsxs("div",{className:"grid gap-2",children:[$,p,h]}),e[37]=p,e[38]=h,e[39]=u):u=e[39];let q;e[40]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(ue,{htmlFor:"description",children:"Description (Optional)"}),e[40]=q):q=e[40];let g;e[41]!==l?(g=s=>l("description",s.target.value),e[41]=l,e[42]=g):g=e[42];let x;e[43]!==o.description||e[44]!==g?(x=t.jsxs("div",{className:"grid gap-2",children:[q,t.jsx(Me,{id:"description",value:o.description,onChange:g})]}),e[43]=o.description,e[44]=g,e[45]=x):x=e[45];const ce=i?"Update":"Save";let j;e[46]!==ae||e[47]!==ce?(j=t.jsx(ke,{children:t.jsxs(pe,{type:"submit",disabled:ae,children:[ce," Tag"]})}),e[46]=ae,e[47]=ce,e[48]=j):j=e[48];let b;e[49]!==n||e[50]!==u||e[51]!==x||e[52]!==j?(b=t.jsxs("form",{onSubmit:n,className:"grid gap-4 py-4",children:[u,x,j]}),e[49]=n,e[50]=u,e[51]=x,e[52]=j,e[53]=b):b=e[53];let D;e[54]!==d||e[55]!==b?(D=t.jsxs(Le,{className:"sm:max-w-[425px]",children:[d,b]}),e[54]=d,e[55]=b,e[56]=D):D=e[56];let S;e[57]!==X||e[58]!==D||e[59]!==m?(S=t.jsxs("div",{className:"flex items-center justify-between",children:[R,t.jsxs(Be,{open:X,onOpenChange:m,children:[U,D]})]}),e[57]=X,e[58]=D,e[59]=m,e[60]=S):S=e[60];let z;e[61]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(ye,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[61]=z):z=e[61];let G;e[62]===Symbol.for("react.memo_cache_sentinel")?(G=s=>xe(s.target.value),e[62]=G):G=e[62];let _;e[63]!==a?(_=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[z,t.jsx(he,{type:"search",placeholder:"Search tags...",className:"pl-8",value:a,onChange:G})]})}),e[63]=a,e[64]=_):_=e[64];let y;e[65]!==oe||e[66]!==W?(y=t.jsx(Ue,{columns:oe,data:W}),e[65]=oe,e[66]=W,e[67]=y):y=e[67];let J;e[68]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Te,{children:"Are you absolutely sure?"}),e[68]=J):J=e[68];const me=w?.name;let T;e[69]!==me?(T=t.jsxs(ve,{children:[J,t.jsxs(Ne,{children:["This action cannot be undone. This will permanently delete the tag"," ",t.jsx("strong",{children:me}),"."]})]}),e[69]=me,e[70]=T):T=e[70];let K;e[71]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Ae,{children:"Cancel"}),e[71]=K):K=e[71];let v;e[72]!==ie?(v=t.jsxs(Ce,{children:[K,t.jsx(we,{onClick:ie,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[72]=ie,e[73]=v):v=e[73];let N;e[74]!==T||e[75]!==v?(N=t.jsxs(Ee,{children:[T,v]}),e[74]=T,e[75]=v,e[76]=N):N=e[76];let A;e[77]!==Z||e[78]!==N?(A=t.jsx(Oe,{open:Z,onOpenChange:ee,children:N}),e[77]=Z,e[78]=N,e[79]=A):A=e[79];let Q;return e[80]!==S||e[81]!==_||e[82]!==y||e[83]!==A?(Q=t.jsxs(Pe,{breadcrumbs:qe,children:[P,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[S,_,y,A]})]}),e[80]=S,e[81]=_,e[82]=y,e[83]=A,e[84]=Q):Q=e[84],Q}export{ht as default};
