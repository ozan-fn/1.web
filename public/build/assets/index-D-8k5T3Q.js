import{c as Me,r as f,u as Re,a as qe,j as s,b as ke,H as ze}from"./app-_0fhTrIc.js";import{A as Ge,a as Je,b as Ke,c as Qe,d as We,e as Xe,f as Ye,g as Ze}from"./alert-dialog-DNGWT0pe.js";import{B as Fe}from"./button-DcnAenQk.js";import{a as Ve,e as es,D as ss,b as ts,c as ls,d as rs}from"./dialog-BZ5e_QEd.js";import{I as pe}from"./input-CANoxifY.js";import{L as Te}from"./label-DSE2YQLd.js";import{A as as}from"./app-layout-BV4CGEV7.js";import{A as Ie,a as He,b as Le}from"./alert-BpXNZDgc.js";import{columns as is}from"./columns-B2_NEeAj.js";import{DataTable as os}from"./data-table-ESamjfnD.js";import{C as ns}from"./circle-check-DXgUFw_h.js";import{C as cs}from"./circle-alert-jvxtI5Lw.js";import{P as ms}from"./plus-Bc5yQGgW.js";import{S as ds}from"./search-BolnwTce.js";/* empty css            */import"./index-CJejQtAt.js";import"./index-CDpher6K.js";import"./sheet-gFVyhol_.js";import"./Combination-D0i7NaeH.js";import"./index-DNB95ijO.js";import"./index-ReI9KWXa.js";import"./utils-D0Zg16Wk.js";import"./x-9BPYi6Bc.js";import"./createLucideIcon-ji1NfPjG.js";import"./index-BNEEu2W-.js";import"./index-Cpjkh7vU.js";import"./index-BCOKc1FN.js";import"./dropdown-menu-DtnrfqPT.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-DgTerUKu.js";import"./chevron-right-CaKaO6Fi.js";import"./trash-2-DRTiAi2O.js";import"./index-9zPGSPzO.js";const fs=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/dashboard/users"}];function Ks(Oe){const e=Me.c(123),{users:he,filters:i}=Oe,[ue,K]=f.useState(!1),[m,xe]=f.useState(null),[ge,je]=f.useState(!1),[G,Ue]=f.useState(null),[r,Pe]=f.useState(i.search||""),{flash:c}=Re().props;let Q;e[0]!==i.direction||e[1]!==i.field?(Q=i.field?[{id:i.field,desc:i.direction==="desc"}]:[],e[0]=i.direction,e[1]=i.field,e[2]=Q):Q=e[2];const[o,$e]=f.useState(Q);let W;e[3]===Symbol.for("react.memo_cache_sentinel")?(W={name:"",email:"",password:""},e[3]=W):W=e[3];const{data:n,setData:l,post:be,patch:Se,delete:De,processing:ve,reset:p,errors:a}=qe(W);let X;e[4]!==r||e[5]!==o?(X=t=>{const d=typeof t=="function"?t(o):t;$e(d),ke.get("/dashboard/users",{search:r,field:d[0]?.id,direction:d[0]?d[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[4]=r,e[5]=o,e[6]=X):X=e[6];const we=X;let Y;e[7]!==i.search||e[8]!==r||e[9]!==o?(Y=()=>{const t=setTimeout(()=>{r!==(i.search||"")&&ke.get("/dashboard/users",{search:r,field:o[0]?.id,direction:o[0]?o[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(t)},e[7]=i.search,e[8]=r,e[9]=o,e[10]=Y):Y=e[10];let Z;e[11]!==r?(Z=[r],e[11]=r,e[12]=Z):Z=e[12],f.useEffect(Y,Z);let h,u;if(e[13]!==m||e[14]!==Se||e[15]!==be||e[16]!==p||e[17]!==l){h=J=>{J.preventDefault(),m?Se(`/dashboard/users/${m.id}`,{onSuccess:()=>d()}):be("/dashboard/users",{onSuccess:()=>d()})};let t;e[20]!==l?(t=J=>{xe(J),l({name:J.name,email:J.email,password:""}),K(!0)},e[20]=l,e[21]=t):t=e[21],u=t;const d=()=>{K(!1),xe(null),p()};e[13]=m,e[14]=Se,e[15]=be,e[16]=p,e[17]=l,e[18]=h,e[19]=u}else h=e[18],u=e[19];let V;e[22]===Symbol.for("react.memo_cache_sentinel")?(V=t=>{Ue(t),je(!0)},e[22]=V):V=e[22];const Be=V;let ee;e[23]!==De||e[24]!==G?(ee=()=>{G&&De(`/dashboard/users/${G.id}`,{onSuccess:()=>{je(!1),Ue(null)}})},e[23]=De,e[24]=G,e[25]=ee):ee=e[25];const ye=ee;let se;e[26]!==u?(se=is(u,Be),e[26]=u,e[27]=se):se=e[27];const _e=se;let te;e[28]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(ze,{title:"Users"}),e[28]=te):te=e[28];let x;e[29]!==c.success?(x=c.success&&s.jsxs(Ie,{variant:"default",className:"border-green-500/50 bg-green-50 text-green-700 dark:bg-green-950/20 dark:text-green-400",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx(He,{children:"Success"}),s.jsx(Le,{children:c.success})]}),e[29]=c.success,e[30]=x):x=e[30];let g;e[31]!==c.error?(g=c.error&&s.jsxs(Ie,{variant:"destructive",children:[s.jsx(cs,{className:"h-4 w-4"}),s.jsx(He,{children:"Error"}),s.jsx(Le,{children:c.error})]}),e[31]=c.error,e[32]=g):g=e[32];let le;e[33]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Users"}),e[33]=le):le=e[33];let j;e[34]!==p?(j=()=>{xe(null),p(),K(!0)},e[34]=p,e[35]=j):j=e[35];let re;e[36]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(ms,{className:"mr-2 h-4 w-4"}),e[36]=re):re=e[36];let b;e[37]!==j?(b=s.jsxs(Fe,{onClick:j,children:[re," Add User"]}),e[37]=j,e[38]=b):b=e[38];const Ne=m?"Edit User":"Add New User";let S;e[39]!==Ne?(S=s.jsx(Ve,{children:Ne}),e[39]=Ne,e[40]=S):S=e[40];let ae;e[41]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(es,{children:"Fill in the user details below."}),e[41]=ae):ae=e[41];let D;e[42]!==S?(D=s.jsxs(ss,{children:[S,ae]}),e[42]=S,e[43]=D):D=e[43];let ie;e[44]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(Te,{htmlFor:"name",children:"Full Name"}),e[44]=ie):ie=e[44];let v;e[45]!==l?(v=t=>l("name",t.target.value),e[45]=l,e[46]=v):v=e[46];let w;e[47]!==n.name||e[48]!==v?(w=s.jsx(pe,{id:"name",value:n.name,onChange:v,placeholder:"Enter name"}),e[47]=n.name,e[48]=v,e[49]=w):w=e[49];let y;e[50]!==a.name?(y=a.name&&s.jsx("p",{className:"text-xs text-red-500",children:a.name}),e[50]=a.name,e[51]=y):y=e[51];let _;e[52]!==w||e[53]!==y?(_=s.jsxs("div",{className:"space-y-2",children:[ie,w,y]}),e[52]=w,e[53]=y,e[54]=_):_=e[54];let oe;e[55]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(Te,{htmlFor:"email",children:"Email"}),e[55]=oe):oe=e[55];let N;e[56]!==l?(N=t=>l("email",t.target.value),e[56]=l,e[57]=N):N=e[57];let A;e[58]!==n.email||e[59]!==N?(A=s.jsx(pe,{id:"email",type:"email",value:n.email,onChange:N,placeholder:"Enter email"}),e[58]=n.email,e[59]=N,e[60]=A):A=e[60];let C;e[61]!==a.email?(C=a.email&&s.jsx("p",{className:"text-xs text-red-500",children:a.email}),e[61]=a.email,e[62]=C):C=e[62];let E;e[63]!==A||e[64]!==C?(E=s.jsxs("div",{className:"space-y-2",children:[oe,A,C]}),e[63]=A,e[64]=C,e[65]=E):E=e[65];const Ae=m&&"(Leave blank to keep current)";let T;e[66]!==Ae?(T=s.jsxs(Te,{htmlFor:"password",children:["Password"," ",Ae]}),e[66]=Ae,e[67]=T):T=e[67];let U;e[68]!==l?(U=t=>l("password",t.target.value),e[68]=l,e[69]=U):U=e[69];let k;e[70]!==n.password||e[71]!==U?(k=s.jsx(pe,{id:"password",type:"password",value:n.password,onChange:U,placeholder:"Enter password"}),e[70]=n.password,e[71]=U,e[72]=k):k=e[72];let F;e[73]!==a.password?(F=a.password&&s.jsx("p",{className:"text-xs text-red-500",children:a.password}),e[73]=a.password,e[74]=F):F=e[74];let I;e[75]!==T||e[76]!==k||e[77]!==F?(I=s.jsxs("div",{className:"space-y-2",children:[T,k,F]}),e[75]=T,e[76]=k,e[77]=F,e[78]=I):I=e[78];const Ce=m?"Update":"Save";let H;e[79]!==ve||e[80]!==Ce?(H=s.jsx(ts,{children:s.jsxs(Fe,{type:"submit",disabled:ve,children:[Ce," User"]})}),e[79]=ve,e[80]=Ce,e[81]=H):H=e[81];let L;e[82]!==h||e[83]!==_||e[84]!==E||e[85]!==I||e[86]!==H?(L=s.jsxs("form",{onSubmit:h,className:"space-y-4 py-4",children:[_,E,I,H]}),e[82]=h,e[83]=_,e[84]=E,e[85]=I,e[86]=H,e[87]=L):L=e[87];let O;e[88]!==D||e[89]!==L?(O=s.jsxs(ls,{children:[D,L]}),e[88]=D,e[89]=L,e[90]=O):O=e[90];let P;e[91]!==ue||e[92]!==b||e[93]!==O?(P=s.jsxs("div",{className:"flex items-center justify-between",children:[le,s.jsxs(rs,{open:ue,onOpenChange:K,children:[b,O]})]}),e[91]=ue,e[92]=b,e[93]=O,e[94]=P):P=e[94];let ne;e[95]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(ds,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[95]=ne):ne=e[95];let ce;e[96]===Symbol.for("react.memo_cache_sentinel")?(ce=t=>Pe(t.target.value),e[96]=ce):ce=e[96];let $;e[97]!==r?($=s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative w-full max-w-sm",children:[ne,s.jsx(pe,{type:"search",placeholder:"Search users...",className:"pl-8",value:r,onChange:ce})]})}),e[97]=r,e[98]=$):$=e[98];let B;e[99]!==we||e[100]!==o||e[101]!==_e||e[102]!==he?(B=s.jsx(os,{columns:_e,data:he,sorting:o,onSortingChange:we}),e[99]=we,e[100]=o,e[101]=_e,e[102]=he,e[103]=B):B=e[103];let me;e[104]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(Ge,{children:"Are you absolutely sure?"}),e[104]=me):me=e[104];const Ee=G?.name;let M;e[105]!==Ee?(M=s.jsxs(Je,{children:[me,s.jsxs(Ke,{children:["This action cannot be undone. This will permanently delete user"," ",s.jsx("strong",{children:Ee}),"."]})]}),e[105]=Ee,e[106]=M):M=e[106];let de;e[107]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(Qe,{children:"Cancel"}),e[107]=de):de=e[107];let R;e[108]!==ye?(R=s.jsxs(We,{children:[de,s.jsx(Xe,{onClick:ye,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[108]=ye,e[109]=R):R=e[109];let q;e[110]!==M||e[111]!==R?(q=s.jsxs(Ye,{children:[M,R]}),e[110]=M,e[111]=R,e[112]=q):q=e[112];let z;e[113]!==ge||e[114]!==q?(z=s.jsx(Ze,{open:ge,onOpenChange:je,children:q}),e[113]=ge,e[114]=q,e[115]=z):z=e[115];let fe;return e[116]!==x||e[117]!==g||e[118]!==P||e[119]!==$||e[120]!==B||e[121]!==z?(fe=s.jsxs(as,{breadcrumbs:fs,children:[te,s.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-2 sm:p-4 md:p-6",children:[x,g,P,$,B,z]})]}),e[116]=x,e[117]=g,e[118]=P,e[119]=$,e[120]=B,e[121]=z,e[122]=fe):fe=e[122],fe}export{Ks as default};
