import{r as l,j as e,d as x}from"./app-BfVrTvsN.js";import{A as h,b as u}from"./alert-BiosY0k_.js";import{B as f}from"./button-gbhLq5G-.js";import{C as g,a as j,b as y,c as k,d as b}from"./card-Dkn73M7S.js";import{I as C}from"./input-DyiqSiWZ.js";import{L as N}from"./label-cloddFxn.js";import{c as L}from"./createLucideIcon-y87IHi3y.js";import{L as v}from"./loader-circle-BG2bP3Zi.js";import{C as E}from"./circle-alert-Ced-xk41.js";/* empty css            */import"./utils-D0Zg16Wk.js";import"./index-C1GG9AvA.js";import"./index-DTS84qP2.js";const U=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],d=L("WandSparkles",U);function z({onExtractSuccess:p,isLoading:c=!1}){const[r,n]=l.useState(""),[s,i]=l.useState(!1),[o,t]=l.useState(null),m=async()=>{if(!r.trim()){t("Please enter a URL");return}i(!0),t(null);try{const a=await x.get(`https://test1-gl4j.vercel.app/extract?url=${encodeURIComponent(r)}`,{headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8","accept-language":"en-US,en;q=0.9,id;q=0.8","cache-control":"max-age=0",dnt:"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}});a.data?(p(a.data),n(""),t(null)):t("Failed to extract content from URL")}catch(a){console.error("Extract error:",a),t(a.response?.data?.message||"Failed to extract content. Please check the URL and try again.")}finally{i(!1)}};return e.jsxs(g,{className:"border-dashed",children:[e.jsxs(j,{className:"space-y-1",children:[e.jsxs(y,{className:"flex items-center gap-2 text-lg",children:[e.jsx(d,{className:"h-5 w-5 text-primary"}),"Auto-Fill from URL"]}),e.jsx(k,{children:"Extract title, content, thumbnail, and tags automatically from a news URL"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(N,{htmlFor:"extract-url",children:"Article URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{id:"extract-url",type:"url",placeholder:"https://example.com/article/...",value:r,onChange:a=>n(a.target.value),onKeyDown:a=>a.key==="Enter"&&(a.preventDefault(),m()),disabled:s||c,className:"flex-1"}),e.jsx(f,{type:"button",onClick:m,disabled:s||c||!r.trim(),className:"shrink-0",children:s?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Extracting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),"Extract"]})})]})]}),o&&e.jsxs(h,{variant:"destructive",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx(u,{children:o})]})]})]})}export{z as UrlExtractor};
