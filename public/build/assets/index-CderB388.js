import{r as w,a as S,j as e,H as P}from"./app-CurqJ_4M.js";import{B as D}from"./button-De2wU3JD.js";import{C as n,a as m,b as x,c as h,d as p}from"./card-HvNc5E4J.js";import{I as o}from"./input-_El9oGzy.js";import{L as i}from"./label-CNwic2Oh.js";import{T as y}from"./textarea-B2iku_kP.js";import{A as T}from"./app-layout-B8noGIFK.js";import{r as L}from"./image-compression-C1UeteK-.js";import{d as I}from"./index-DGdR22o3.js";import{F as A,I as H,T as M,Y as B,M as E,P as R,a as z}from"./youtube-CXFo_k6q.js";/* empty css            */import"./index-CWkBYrTU.js";import"./index-CW9Xiz5R.js";import"./dropdown-menu-CxiBAujw.js";import"./createLucideIcon-Djww9a5A.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-BFfqlwr6.js";const K=[{title:"Dashboard",href:"/dashboard"},{title:"Site Settings",href:"/dashboard/site-settings"}];function le({settings:t}){const[g,_]=w.useState(t?.logo?`/storage/${t.logo}`:null),[u,C]=w.useState(t?.favicon?`/storage/${t.favicon}`:null),{data:l,setData:r,post:k,processing:j,errors:a}=S({_method:"PATCH",site_name:t?.site_name??"LENSAPUBLIK",tagline:t?.tagline??"Academic News Portal",description:t?.description??"",email:t?.email??"",phone:t?.phone??"",address:t?.address??"",logo:null,favicon:null,social_facebook:t?.social_facebook??"",social_instagram:t?.social_instagram??"",social_twitter:t?.social_twitter??"",social_youtube:t?.social_youtube??""}),f=async(s,d)=>{const v=s.target.files?.[0];if(v)try{const b=await L(v,800,d==="logo"?100:64);r(d,b);const c=new FileReader;c.onloadend=()=>{d==="logo"?_(c.result):C(c.result)},c.readAsDataURL(b)}catch(N){console.error("Failed to process image:",N)}},F=s=>{s.preventDefault(),k(I.siteSettings.update().url,{forceFormData:!0})};return e.jsxs(T,{breadcrumbs:K,children:[e.jsx(P,{title:"Site Settings"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 p-4 lg:p-8",children:e.jsxs("form",{onSubmit:F,className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Branding"}),e.jsx(h,{children:"Logo dan Identitas Visual"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"logo",children:"Logo Situs"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g?e.jsx("div",{className:"relative flex h-20 w-full items-center justify-center overflow-hidden rounded-md border bg-muted p-2",children:e.jsx("img",{src:g,alt:"Logo Preview",className:"h-full object-contain"})}):e.jsx("div",{className:"flex h-20 w-full items-center justify-center rounded-md border-2 border-dashed text-xs text-muted-foreground",children:"Belum ada logo"}),e.jsx(o,{id:"logo",type:"file",accept:"image/*",onChange:s=>f(s,"logo")}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Rekomendasi: Tinggi maks 100px. PNG/JPG/WebP."})]}),a.logo&&e.jsx("p",{className:"text-sm text-red-500",children:a.logo})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"favicon",children:"Favicon"}),e.jsxs("div",{className:"flex items-center gap-4",children:[u?e.jsx("div",{className:"flex h-12 w-12 items-center justify-center overflow-hidden rounded-md border bg-muted p-1",children:e.jsx("img",{src:u,alt:"Favicon",className:"h-full w-full object-contain"})}):e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-md border-2 border-dashed text-[10px] text-muted-foreground",children:"None"}),e.jsx("div",{className:"flex-1",children:e.jsx(o,{id:"favicon",type:"file",accept:"image/*",onChange:s=>f(s,"favicon")})})]}),a.favicon&&e.jsx("p",{className:"text-sm text-red-500",children:a.favicon})]})]})]}),e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Sosial Media"}),e.jsx(h,{children:"Tautan ke platform sosial"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{className:"flex items-center gap-2 pt-1",children:[e.jsx(A,{className:"h-4 w-4 text-blue-600"})," ","Facebook"]}),e.jsx(o,{placeholder:"https://facebook.com/...",value:l.social_facebook,onChange:s=>r("social_facebook",s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{className:"flex items-center gap-2 pt-1",children:[e.jsx(H,{className:"h-4 w-4 text-pink-600"})," ","Instagram"]}),e.jsx(o,{placeholder:"https://instagram.com/...",value:l.social_instagram,onChange:s=>r("social_instagram",s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{className:"flex items-center gap-2 pt-1",children:[e.jsx(M,{className:"h-4 w-4 text-sky-500"})," ","Twitter / X"]}),e.jsx(o,{placeholder:"https://twitter.com/...",value:l.social_twitter,onChange:s=>r("social_twitter",s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{className:"flex items-center gap-2 pt-1",children:[e.jsx(B,{className:"h-4 w-4 text-red-600"})," ","Youtube"]}),e.jsx(o,{placeholder:"https://youtube.com/...",value:l.social_youtube,onChange:s=>r("social_youtube",s.target.value)})]})]})]})]}),e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Informasi Umum"}),e.jsx(h,{children:"Detail utama yang muncul di situs"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"site_name",children:"Nama Situs"}),e.jsx(o,{id:"site_name",value:l.site_name,onChange:s=>r("site_name",s.target.value)}),a.site_name&&e.jsx("p",{className:"text-sm text-red-500",children:a.site_name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"tagline",children:"Tagline"}),e.jsx(o,{id:"tagline",value:l.tagline,onChange:s=>r("tagline",s.target.value)}),a.tagline&&e.jsx("p",{className:"text-sm text-red-500",children:a.tagline})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"description",children:"Deskripsi (Meta Description)"}),e.jsx(y,{id:"description",rows:4,value:l.description,onChange:s=>r("description",s.target.value)}),a.description&&e.jsx("p",{className:"text-sm text-red-500",children:a.description})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-2 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"})," Email Kontak"]}),e.jsx(o,{type:"email",value:l.email,onChange:s=>r("email",s.target.value)}),a.email&&e.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"})," ","Telepon"]}),e.jsx(o,{value:l.phone,onChange:s=>r("phone",s.target.value)}),a.phone&&e.jsx("p",{className:"text-sm text-red-500",children:a.phone})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"})," Alamat Kantor"]}),e.jsx(y,{rows:2,value:l.address,onChange:s=>r("address",s.target.value)}),a.address&&e.jsx("p",{className:"text-sm text-red-500",children:a.address})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 flex items-center justify-between border-t bg-background/95 pt-6 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[e.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["Terakhir diperbarui:"," ",new Date().toLocaleDateString("id-ID")]}),e.jsx(D,{type:"submit",disabled:j,size:"lg",children:j?"Menyimpan...":"Simpan Perubahan"})]})]})]})})]})}export{le as default};
