import{c as Fe,r as n,u as ze,a as Be,j as t,H as Me,b as ke}from"./app-1nTw3wEx.js";import{A as Ue,a as $e,b as qe}from"./alert-DWWyJN7A.js";import{A as Ge,a as Je,b as Ke,c as Qe,d as Ve,e as We,f as Xe,g as Ye}from"./alert-dialog-DZ1o3U8S.js";import{B as pe}from"./button-Ck9pycyt.js";import{D as Ze,a as et,b as tt,c as st,d as lt}from"./dialog-CzBlcrB9.js";import{I as Ie}from"./input-CGsxHcST.js";import{L as Le}from"./label-DxsdGdDs.js";import{T as at}from"./textarea-CkxJcFVs.js";import{A as rt}from"./app-layout-b1-R8M9f.js";import{d as he}from"./index-DGdR22o3.js";import{columns as it}from"./columns-B10I07It.js";import{DataTable as ot}from"./data-table-D0XzzN10.js";import{C as nt}from"./circle-check-BW2gUKaa.js";import{P as ct}from"./plus-Dd_4U87y.js";import{S as mt}from"./search-DVZrW_QK.js";import{C as ft}from"./chevron-left-72u7JPMv.js";import{C as dt}from"./chevron-right-_G8rXyR8.js";/* empty css            */import"./utils-D0Zg16Wk.js";import"./index-uXGEISpE.js";import"./index-D2sXjZnc.js";import"./sheet-KcbvASao.js";import"./Combination-D3v4kdX1.js";import"./index-BdKNS-Nx.js";import"./index-n9cwxR5X.js";import"./x-DCrcjXNb.js";import"./createLucideIcon-BQae9WC5.js";import"./index-Dq7WhBZ5.js";import"./index-BJ17u8um.js";import"./index-bKJyT73K.js";import"./dropdown-menu-BXZLhhpU.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-BaWHnd_3.js";import"./trash-2-D_3trWnV.js";import"./index-B2Xbfbpk.js";function Wt(xe){const e=Fe.c(121),{tags:s,filters:r}=xe,[ue,ge]=n.useState(!1),[je,_e]=n.useState(!1),[c,Ee]=n.useState(null),[$,Pe]=n.useState(null),[a,He]=n.useState(r.search||""),{flash:q}=ze().props;let G;e[0]!==r.direction||e[1]!==r.field?(G=r.field?[{id:r.field,desc:r.direction==="desc"}]:[],e[0]=r.direction,e[1]=r.field,e[2]=G):G=e[2];const[i,Re]=n.useState(G),be=pt;let J;e[3]!==r.search||e[4]!==a||e[5]!==i?(J=()=>{const l=setTimeout(()=>{a!==(r.search||"")&&be(a,i)},300);return()=>clearTimeout(l)},e[3]=r.search,e[4]=a,e[5]=i,e[6]=J):J=e[6];let K;e[7]!==a?(K=[a,be],e[7]=a,e[8]=K):K=e[8],n.useEffect(J,K);let Q;e[9]===Symbol.for("react.memo_cache_sentinel")?(Q={name:"",description:""},e[9]=Q):Q=e[9];const{data:m,setData:o,post:Se,patch:ve,delete:De,processing:ye,reset:f,errors:V}=Be(Q);let W;e[10]!==f||e[11]!==o?(W=l=>{l?(Ee(l),o({name:l.name,description:l.description||""})):(Ee(null),f()),ge(!0)},e[10]=f,e[11]=o,e[12]=W):W=e[12];const d=W;let X;e[13]!==c||e[14]!==ve||e[15]!==Se||e[16]!==f?(X=l=>{l.preventDefault();const de=c?ve(he.tags.update(c.id).url):Se(he.tags.store().url);de.onSuccess=()=>{ge(!1),f()}},e[13]=c,e[14]=ve,e[15]=Se,e[16]=f,e[17]=X):X=e[17];const Ce=X;let Y,Z;e[18]===Symbol.for("react.memo_cache_sentinel")?(Y=[{title:"Tags",href:"#"}],Z=t.jsx(Me,{title:"Tags"}),e[18]=Y,e[19]=Z):(Y=e[18],Z=e[19]);let p;e[20]!==q.success?(p=q.success&&t.jsxs(Ue,{className:"border-green-500 bg-green-50 text-green-700",children:[t.jsx(nt,{className:"h-4 w-4"}),t.jsx($e,{children:"Success"}),t.jsx(qe,{children:q.success})]}),e[20]=q.success,e[21]=p):p=e[21];let ee;e[22]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Tags"}),e[22]=ee):ee=e[22];let h;e[23]!==d?(h=()=>d(),e[23]=d,e[24]=h):h=e[24];let te;e[25]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(ct,{className:"mr-2 h-4 w-4"}),e[25]=te):te=e[25];let x;e[26]!==h?(x=t.jsxs("div",{className:"flex items-center justify-between",children:[ee,t.jsxs(pe,{onClick:h,children:[te," Add Tag"]})]}),e[26]=h,e[27]=x):x=e[27];let se;e[28]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(mt,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[28]=se):se=e[28];let le;e[29]===Symbol.for("react.memo_cache_sentinel")?(le=l=>He(l.target.value),e[29]=le):le=e[29];let u;e[30]!==a?(u=t.jsxs("div",{className:"relative max-w-sm",children:[se,t.jsx(Ie,{placeholder:"Search tags...",className:"pl-8",value:a,onChange:le})]}),e[30]=a,e[31]=u):u=e[31];let ae;e[32]===Symbol.for("react.memo_cache_sentinel")?(ae=l=>{Pe(l),_e(!0)},e[32]=ae):ae=e[32];let g;e[33]!==d?(g=it(d,ae),e[33]=d,e[34]=g):g=e[34];let j;e[35]!==a||e[36]!==i?(j=l=>{const de=typeof l=="function"?l(i):l;Re(de),be(a,de)},e[35]=a,e[36]=i,e[37]=j):j=e[37];let _;e[38]!==i||e[39]!==g||e[40]!==j||e[41]!==s.data?(_=t.jsx(ot,{columns:g,data:s.data,sorting:i,onSortingChange:j}),e[38]=i,e[39]=g,e[40]=j,e[41]=s.data,e[42]=_):_=e[42];let b;e[43]!==s.from||e[44]!==s.to||e[45]!==s.total?(b=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.from," to ",s.to," of ",s.total]}),e[43]=s.from,e[44]=s.to,e[45]=s.total,e[46]=b):b=e[46];let S;e[47]!==s.prev_page_url?(S=()=>ke.get(s.prev_page_url),e[47]=s.prev_page_url,e[48]=S):S=e[48];const Ne=!s.prev_page_url;let re;e[49]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(ft,{className:"mr-1 h-4 w-4"}),e[49]=re):re=e[49];let v;e[50]!==S||e[51]!==Ne?(v=t.jsxs(pe,{variant:"outline",size:"sm",onClick:S,disabled:Ne,children:[re," Prev"]}),e[50]=S,e[51]=Ne,e[52]=v):v=e[52];let D;e[53]!==s.next_page_url?(D=()=>ke.get(s.next_page_url),e[53]=s.next_page_url,e[54]=D):D=e[54];const Ae=!s.next_page_url;let ie;e[55]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(dt,{className:"ml-1 h-4 w-4"}),e[55]=ie):ie=e[55];let y;e[56]!==D||e[57]!==Ae?(y=t.jsxs(pe,{variant:"outline",size:"sm",onClick:D,disabled:Ae,children:["Next ",ie]}),e[56]=D,e[57]=Ae,e[58]=y):y=e[58];let C;e[59]!==v||e[60]!==y?(C=t.jsxs("div",{className:"flex gap-2",children:[v,y]}),e[59]=v,e[60]=y,e[61]=C):C=e[61];let N;e[62]!==b||e[63]!==C?(N=t.jsxs("div",{className:"flex items-center justify-between px-2",children:[b,C]}),e[62]=b,e[63]=C,e[64]=N):N=e[64];let A;e[65]!==_||e[66]!==N?(A=t.jsxs("div",{className:"space-y-4",children:[_,N]}),e[65]=_,e[66]=N,e[67]=A):A=e[67];const Te=c?"Edit":"Create";let T;e[68]!==Te?(T=t.jsx(Ze,{children:t.jsxs(et,{children:[Te," Tag"]})}),e[68]=Te,e[69]=T):T=e[69];let oe;e[70]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(Le,{children:"Tag Name"}),e[70]=oe):oe=e[70];let w;e[71]!==o?(w=l=>o("name",l.target.value),e[71]=o,e[72]=w):w=e[72];let O;e[73]!==m.name||e[74]!==w?(O=t.jsx(Ie,{value:m.name,onChange:w}),e[73]=m.name,e[74]=w,e[75]=O):O=e[75];let k;e[76]!==V.name?(k=V.name&&t.jsx("p",{className:"text-xs text-red-500",children:V.name}),e[76]=V.name,e[77]=k):k=e[77];let E;e[78]!==O||e[79]!==k?(E=t.jsxs("div",{className:"grid gap-2",children:[oe,O,k]}),e[78]=O,e[79]=k,e[80]=E):E=e[80];let ne;e[81]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Le,{children:"Description"}),e[81]=ne):ne=e[81];let I;e[82]!==o?(I=l=>o("description",l.target.value),e[82]=o,e[83]=I):I=e[83];let L;e[84]!==m.description||e[85]!==I?(L=t.jsxs("div",{className:"grid gap-2",children:[ne,t.jsx(at,{value:m.description,onChange:I})]}),e[84]=m.description,e[85]=I,e[86]=L):L=e[86];const we=c?"Update":"Save";let P;e[87]!==ye||e[88]!==we?(P=t.jsx(tt,{children:t.jsx(pe,{type:"submit",disabled:ye,children:we})}),e[87]=ye,e[88]=we,e[89]=P):P=e[89];let H;e[90]!==Ce||e[91]!==E||e[92]!==L||e[93]!==P?(H=t.jsxs("form",{onSubmit:Ce,className:"grid gap-4 py-2",children:[E,L,P]}),e[90]=Ce,e[91]=E,e[92]=L,e[93]=P,e[94]=H):H=e[94];let R;e[95]!==T||e[96]!==H?(R=t.jsxs(st,{children:[T,H]}),e[95]=T,e[96]=H,e[97]=R):R=e[97];let F;e[98]!==ue||e[99]!==R?(F=t.jsx(lt,{open:ue,onOpenChange:ge,children:R}),e[98]=ue,e[99]=R,e[100]=F):F=e[100];let ce;e[101]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Ge,{children:"Delete Tag?"}),e[101]=ce):ce=e[101];const Oe=$?.name;let z;e[102]!==Oe?(z=t.jsxs(Je,{children:[ce,t.jsxs(Ke,{children:["Permanently delete ",t.jsx("strong",{children:Oe}),"?"]})]}),e[102]=Oe,e[103]=z):z=e[103];let me;e[104]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Qe,{children:"Cancel"}),e[104]=me):me=e[104];let B;e[105]!==De||e[106]!==$?(B=t.jsxs(Ve,{children:[me,t.jsx(We,{className:"bg-red-600 hover:bg-red-700",onClick:()=>$&&De(he.tags.destroy($.id).url,{onSuccess:()=>_e(!1)}),children:"Delete"})]}),e[105]=De,e[106]=$,e[107]=B):B=e[107];let M;e[108]!==z||e[109]!==B?(M=t.jsxs(Xe,{children:[z,B]}),e[108]=z,e[109]=B,e[110]=M):M=e[110];let U;e[111]!==je||e[112]!==M?(U=t.jsx(Ye,{open:je,onOpenChange:_e,children:M}),e[111]=je,e[112]=M,e[113]=U):U=e[113];let fe;return e[114]!==x||e[115]!==u||e[116]!==A||e[117]!==F||e[118]!==U||e[119]!==p?(fe=t.jsxs(rt,{breadcrumbs:Y,children:[Z,t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-4",children:[p,x,u,A,F,U]})]}),e[114]=x,e[115]=u,e[116]=A,e[117]=F,e[118]=U,e[119]=p,e[120]=fe):fe=e[120],fe}function pt(xe,e){ke.get(he.tags.index().url,{search:xe,field:e[0]?.id,direction:e[0]?.desc?"desc":"asc"},{preserveState:!0,replace:!0})}export{Wt as default};
