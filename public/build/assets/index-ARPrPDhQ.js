import{c as we,r as H,u as Ae,j as t,a as Te,H as Oe}from"./app-B_dCJ2hx.js";import{S as Ee,A as Fe,a as Ie,b as ke,c as He,d as Le,e as Be,f as Me,g as Pe}from"./alert-dialog-DXm1dJqr.js";import{B as ye}from"./button-D5f1oLmZ.js";import{D as Re,a as Ue,b as Ve,c as $e,d as qe,e as ze}from"./dialog-DCM7VRnC.js";import{I as _e}from"./input-CQ3MwCxk.js";import{L as le}from"./label-DMzyiSmL.js";import{S as Ge}from"./switch-D4HVx06f.js";import{T as Je}from"./textarea-BCGge01J.js";import{A as Ke}from"./app-layout-DEYZSHNK.js";import{d as re}from"./index-CjBD6dYK.js";import{columns as Qe}from"./columns-ClRsLV0o.js";import{DataTable as We}from"./data-table-DuYyT1Ld.js";import{P as Xe}from"./plus-DTNgFzSE.js";/* empty css            */import"./createLucideIcon-DgdCX-Ht.js";import"./index-D7kH7AxJ.js";import"./index-Cl1HCaiB.js";import"./index-D8KDsfPF.js";import"./dropdown-menu-xVg6e8MZ.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-CvDZrzc3.js";import"./ellipsis-CVzVemjJ.js";import"./trash-2-D60aVfv0.js";import"./table-D_nJFxZ_.js";import"./index-BgW4U3LS.js";const Ye=[{title:"Dashboard",href:"/dashboard"},{title:"Categories",href:"/dashboard/categories"}];function vt(Ce){const e=we.c(103),{categories:ie,filters:B}=Ce,[ae,oe]=H.useState(!1),[ne,ce]=H.useState(!1),[n,De]=H.useState(null),[L,Se]=H.useState(null),[i,ve]=H.useState(B.search||"");let M;e[0]!==B.search||e[1]!==i?(M=()=>{const s=setTimeout(()=>{i!==(B.search||"")&&Te.get(re.categories.index().url,{search:i},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[0]=B.search,e[1]=i,e[2]=M):M=e[2];let P;e[3]!==i?(P=[i],e[3]=i,e[4]=P):P=e[4],H.useEffect(M,P);let R;e[5]===Symbol.for("react.memo_cache_sentinel")?(R={name:"",description:"",order:0,is_show:!0},e[5]=R):R=e[5];const{data:r,setData:l,post:me,patch:de,delete:fe,processing:he,reset:pe,errors:U}=Ae(R);let a,c,m;if(e[6]!==n||e[7]!==de||e[8]!==me||e[9]!==pe||e[10]!==l){c=o=>{o.preventDefault(),n?de(re.categories.update(n.id).url,{onSuccess:()=>a()}):me(re.categories.store().url,{onSuccess:()=>a()})};let s;e[14]!==l?(s=o=>{De(o),l({name:o.name,description:o.description||"",order:o.order,is_show:o.is_show}),oe(!0)},e[14]=l,e[15]=s):s=e[15],m=s,a=()=>{oe(!1),De(null),pe()},e[6]=n,e[7]=de,e[8]=me,e[9]=pe,e[10]=l,e[11]=a,e[12]=c,e[13]=m}else a=e[11],c=e[12],m=e[13];let V;e[16]===Symbol.for("react.memo_cache_sentinel")?(V=s=>{Se(s),ce(!0)},e[16]=V):V=e[16];const Ne=V;let $;e[17]!==L||e[18]!==fe?($=()=>{L&&fe(re.categories.destroy(L.id).url,{onSuccess:()=>{ce(!1),Se(null)}})},e[17]=L,e[18]=fe,e[19]=$):$=e[19];const xe=$;let q;e[20]!==m?(q=Qe(m,Ne),e[20]=m,e[21]=q):q=e[21];const ue=q;let z;e[22]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(Oe,{title:"Categories"}),e[22]=z):z=e[22];let G;e[23]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Categories"}),e[23]=G):G=e[23];let d;e[24]!==a?(d=s=>!s&&a(),e[24]=a,e[25]=d):d=e[25];let J;e[26]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Re,{asChild:!0,children:t.jsxs(ye,{onClick:()=>oe(!0),children:[t.jsx(Xe,{className:"mr-2 h-4 w-4"})," Add Category"]})}),e[26]=J):J=e[26];const ge=n?"Edit":"Create";let f;e[27]!==ge?(f=t.jsx(Ue,{children:t.jsxs(Ve,{children:[ge," Category"]})}),e[27]=ge,e[28]=f):f=e[28];let K;e[29]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(le,{htmlFor:"name",children:"Name"}),e[29]=K):K=e[29];let h;e[30]!==l?(h=s=>l("name",s.target.value),e[30]=l,e[31]=h):h=e[31];let p;e[32]!==r.name||e[33]!==h?(p=t.jsx(_e,{id:"name",value:r.name,onChange:h}),e[32]=r.name,e[33]=h,e[34]=p):p=e[34];let x;e[35]!==U.name?(x=U.name&&t.jsx("p",{className:"text-sm text-red-500",children:U.name}),e[35]=U.name,e[36]=x):x=e[36];let u;e[37]!==p||e[38]!==x?(u=t.jsxs("div",{className:"grid gap-2",children:[K,p,x]}),e[37]=p,e[38]=x,e[39]=u):u=e[39];let Q;e[40]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(le,{htmlFor:"description",children:"Description (Optional)"}),e[40]=Q):Q=e[40];let g;e[41]!==l?(g=s=>l("description",s.target.value),e[41]=l,e[42]=g):g=e[42];let j;e[43]!==r.description||e[44]!==g?(j=t.jsxs("div",{className:"grid gap-2",children:[Q,t.jsx(Je,{id:"description",value:r.description,onChange:g})]}),e[43]=r.description,e[44]=g,e[45]=j):j=e[45];let W;e[46]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(le,{htmlFor:"order",children:"Display Order"}),e[46]=W):W=e[46];let b;e[47]!==l?(b=s=>l("order",parseInt(s.target.value)||0),e[47]=l,e[48]=b):b=e[48];let _;e[49]!==r.order||e[50]!==b?(_=t.jsxs("div",{className:"grid gap-2",children:[W,t.jsx(_e,{id:"order",type:"number",value:r.order,onChange:b})]}),e[49]=r.order,e[50]=b,e[51]=_):_=e[51];let D;e[52]!==l?(D=s=>l("is_show",s),e[52]=l,e[53]=D):D=e[53];let S;e[54]!==r.is_show||e[55]!==D?(S=t.jsx(Ge,{id:"is_show",checked:r.is_show,onCheckedChange:D}),e[54]=r.is_show,e[55]=D,e[56]=S):S=e[56];let X;e[57]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(le,{htmlFor:"is_show",children:"Visible"}),e[57]=X):X=e[57];let y;e[58]!==S?(y=t.jsx("div",{className:"flex flex-col justify-end gap-2 pb-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[S,X]})}),e[58]=S,e[59]=y):y=e[59];let C;e[60]!==_||e[61]!==y?(C=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_,y]}),e[60]=_,e[61]=y,e[62]=C):C=e[62];const je=n?"Update":"Save";let v;e[63]!==he||e[64]!==je?(v=t.jsx($e,{children:t.jsxs(ye,{type:"submit",disabled:he,children:[je," Category"]})}),e[63]=he,e[64]=je,e[65]=v):v=e[65];let N;e[66]!==c||e[67]!==u||e[68]!==j||e[69]!==C||e[70]!==v?(N=t.jsxs("form",{onSubmit:c,className:"grid gap-4 py-4",children:[u,j,C,v]}),e[66]=c,e[67]=u,e[68]=j,e[69]=C,e[70]=v,e[71]=N):N=e[71];let w;e[72]!==f||e[73]!==N?(w=t.jsxs(qe,{className:"sm:max-w-[425px]",children:[f,N]}),e[72]=f,e[73]=N,e[74]=w):w=e[74];let A;e[75]!==ae||e[76]!==w||e[77]!==d?(A=t.jsxs("div",{className:"flex items-center justify-between",children:[G,t.jsxs(ze,{open:ae,onOpenChange:d,children:[J,w]})]}),e[75]=ae,e[76]=w,e[77]=d,e[78]=A):A=e[78];let Y;e[79]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Ee,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[79]=Y):Y=e[79];let Z;e[80]===Symbol.for("react.memo_cache_sentinel")?(Z=s=>ve(s.target.value),e[80]=Z):Z=e[80];let T;e[81]!==i?(T=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[Y,t.jsx(_e,{type:"search",placeholder:"Search categories...",className:"pl-8",value:i,onChange:Z})]})}),e[81]=i,e[82]=T):T=e[82];let O;e[83]!==ie||e[84]!==ue?(O=t.jsx(We,{columns:ue,data:ie}),e[83]=ie,e[84]=ue,e[85]=O):O=e[85];let ee;e[86]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Fe,{children:"Are you absolutely sure?"}),e[86]=ee):ee=e[86];const be=L?.name;let E;e[87]!==be?(E=t.jsxs(Ie,{children:[ee,t.jsxs(ke,{children:["This action cannot be undone. This will permanently delete the category"," ",t.jsx("strong",{children:be}),"."]})]}),e[87]=be,e[88]=E):E=e[88];let te;e[89]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(He,{children:"Cancel"}),e[89]=te):te=e[89];let F;e[90]!==xe?(F=t.jsxs(Le,{children:[te,t.jsx(Be,{onClick:xe,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[90]=xe,e[91]=F):F=e[91];let I;e[92]!==E||e[93]!==F?(I=t.jsxs(Me,{children:[E,F]}),e[92]=E,e[93]=F,e[94]=I):I=e[94];let k;e[95]!==ne||e[96]!==I?(k=t.jsx(Pe,{open:ne,onOpenChange:ce,children:I}),e[95]=ne,e[96]=I,e[97]=k):k=e[97];let se;return e[98]!==A||e[99]!==T||e[100]!==O||e[101]!==k?(se=t.jsxs(Ke,{breadcrumbs:Ye,children:[z,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[A,T,O,k]})]}),e[98]=A,e[99]=T,e[100]=O,e[101]=k,e[102]=se):se=e[102],se}export{vt as default};
