import{r as k,c as Y,j as N}from"./app-BfVrTvsN.js";/* empty css            */var L={exports:{}},R,M;function Q(){if(M)return R;M=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return R=r,R}var x,H;function X(){if(H)return x;H=1;var r=Q();function o(){}function n(){}return n.resetWarningCache=o,x=function(){function i(e,u,c,f,p,l){if(l!==r){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}i.isRequired=i;function a(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:o};return s.PropTypes=s,s},x}var A;function Z(){return A||(A=1,L.exports=X()()),L.exports}var t=Z(),j=function(){return j=Object.assign||function(r){for(var o,n=1,i=arguments.length;n<i;n++){o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},j.apply(this,arguments)},$={onActivate:t.func,onAddUndo:t.func,onBeforeAddUndo:t.func,onBeforeExecCommand:t.func,onBeforeGetContent:t.func,onBeforeRenderUI:t.func,onBeforeSetContent:t.func,onBeforePaste:t.func,onBlur:t.func,onChange:t.func,onClearUndos:t.func,onClick:t.func,onContextMenu:t.func,onCommentChange:t.func,onCompositionEnd:t.func,onCompositionStart:t.func,onCompositionUpdate:t.func,onCopy:t.func,onCut:t.func,onDblclick:t.func,onDeactivate:t.func,onDirty:t.func,onDrag:t.func,onDragDrop:t.func,onDragEnd:t.func,onDragGesture:t.func,onDragOver:t.func,onDrop:t.func,onExecCommand:t.func,onFocus:t.func,onFocusIn:t.func,onFocusOut:t.func,onGetContent:t.func,onHide:t.func,onInit:t.func,onInput:t.func,onKeyDown:t.func,onKeyPress:t.func,onKeyUp:t.func,onLoadContent:t.func,onMouseDown:t.func,onMouseEnter:t.func,onMouseLeave:t.func,onMouseMove:t.func,onMouseOut:t.func,onMouseOver:t.func,onMouseUp:t.func,onNodeChange:t.func,onObjectResizeStart:t.func,onObjectResized:t.func,onObjectSelected:t.func,onPaste:t.func,onPostProcess:t.func,onPostRender:t.func,onPreProcess:t.func,onProgressState:t.func,onRedo:t.func,onRemove:t.func,onReset:t.func,onSaveContent:t.func,onSelectionChange:t.func,onSetAttrib:t.func,onSetContent:t.func,onShow:t.func,onSubmit:t.func,onUndo:t.func,onVisualAid:t.func,onSkinLoadError:t.func,onThemeLoadError:t.func,onModelLoadError:t.func,onPluginLoadError:t.func,onIconsLoadError:t.func,onLanguageLoadError:t.func,onScriptsLoad:t.func,onScriptsLoadError:t.func},ee=j({apiKey:t.string,licenseKey:t.string,id:t.string,inline:t.bool,init:t.object,initialValue:t.string,onEditorChange:t.func,value:t.string,tagName:t.string,tabIndex:t.number,cloudChannel:t.string,plugins:t.oneOfType([t.string,t.array]),toolbar:t.oneOfType([t.string,t.array]),disabled:t.bool,readonly:t.bool,textareaName:t.string,tinymceScriptSrc:t.oneOfType([t.string,t.arrayOf(t.string),t.arrayOf(t.shape({src:t.string,async:t.bool,defer:t.bool}))]),rollback:t.oneOfType([t.number,t.oneOf([!1])]),scriptLoading:t.shape({async:t.bool,defer:t.bool,delay:t.number})},$),G=function(r){var o=r;return o&&o.tinymce?o.tinymce:null},P=function(r){return typeof r=="function"},F=function(r){return r in $},K=function(r){return r.substr(2)},ne=function(r,o,n,i,a,s,e){var u=Object.keys(a).filter(F),c=Object.keys(s).filter(F),f=u.filter(function(l){return s[l]===void 0}),p=c.filter(function(l){return a[l]===void 0});f.forEach(function(l){var d=K(l),v=e[d];n(d,v),delete e[d]}),p.forEach(function(l){var d=i(r,l),v=K(l);e[v]=d,o(v,d)})},te=function(r,o,n,i,a){return ne(a,r.on.bind(r),r.off.bind(r),function(s,e){return function(u){var c;return(c=s(e))===null||c===void 0?void 0:c(u,r)}},o,n,i)},U=0,J=function(r){var o=Date.now(),n=Math.floor(Math.random()*1e9);return U++,r+"_"+n+U+String(o)},V=function(r){return r!==null&&(r.tagName.toLowerCase()==="textarea"||r.tagName.toLowerCase()==="input")},z=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},re=function(r,o){return z(r).concat(z(o))},oe=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},ie=function(r){if(!("isConnected"in Node.prototype)){for(var o=r,n=r.parentNode;n!=null;)o=n,n=o.parentNode;return o===r.ownerDocument}return r.isConnected},q=function(r,o){r!==void 0&&(r.mode!=null&&typeof r.mode=="object"&&typeof r.mode.set=="function"?r.mode.set(o):r.setMode(o))},ae=function(r){var o=G(r);if(!o)throw new Error("tinymce should have been loaded into global scope");return o},W=function(r){return r.options&&r.options.isRegistered("disabled")},B=function(){return B=Object.assign||function(r){for(var o,n=1,i=arguments.length;n<i;n++){o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},B.apply(this,arguments)},se=function(r,o,n){var i,a,s=r.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=o.id,s.src=o.src,s.async=(i=o.async)!==null&&i!==void 0?i:!1,s.defer=(a=o.defer)!==null&&a!==void 0?a:!1;var e=function(){s.removeEventListener("load",e),s.removeEventListener("error",u),n(o.src)},u=function(c){s.removeEventListener("load",e),s.removeEventListener("error",u),n(o.src,c)};s.addEventListener("load",e),s.addEventListener("error",u),r.head&&r.head.appendChild(s)},ue=function(r){var o={},n=function(e,u){var c=o[e];c.done=!0,c.error=u;for(var f=0,p=c.handlers;f<p.length;f++){var l=p[f];l(e,u)}c.handlers=[]},i=function(e,u,c){var f=function(m){return c!==void 0?c(m):console.error(m)};if(e.length===0){f(new Error("At least one script must be provided"));return}for(var p=0,l=!1,d=function(m,C){l||(C?(l=!0,f(C)):++p===e.length&&u())},v=0,h=e;v<h.length;v++){var y=h[v],g=o[y.src];if(g)g.done?d(y.src,g.error):g.handlers.push(d);else{var b=J("tiny-");o[y.src]={id:b,src:y.src,done:!1,error:null,handlers:[d]},se(r,B({id:b},y),n)}}},a=function(){for(var e,u=0,c=Object.values(o);u<c.length;u++){var f=c[u],p=r.getElementById(f.id);p!=null&&p.tagName==="SCRIPT"&&((e=p.parentNode)===null||e===void 0||e.removeChild(p))}o={}},s=function(){return r};return{loadScripts:i,deleteScripts:a,getDocument:s}},ce=function(){var r=[],o=function(a){var s=r.find(function(e){return e.getDocument()===a});return s===void 0&&(s=ue(a),r.push(s)),s},n=function(a,s,e,u,c){var f=function(){return o(a).loadScripts(s,u,c)};e>0?setTimeout(f,e):f()},i=function(){for(var a=r.pop();a!=null;a=r.pop())a.deleteScripts()};return{loadList:n,reinitialize:i}},le=ce(),fe=(function(){var r=function(o,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(o,n)};return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(o,n);function i(){this.constructor=o}o.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),E=function(){return E=Object.assign||function(r){for(var o,n=1,i=arguments.length;n<i;n++){o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},E.apply(this,arguments)},D="change keyup compositionend setcontent CommentChange",de=(function(r){fe(o,r);function o(n){var i,a,s,e=r.call(this,n)||this;return e.rollbackTimer=void 0,e.valueCursor=void 0,e.rollbackChange=function(){var u=e.editor,c=e.props.value;u&&c&&c!==e.currentContent&&u.undoManager.ignore(function(){if(u.setContent(c),e.valueCursor&&(!e.inline||u.hasFocus()))try{u.selection.moveToBookmark(e.valueCursor)}catch{}}),e.rollbackTimer=void 0},e.handleBeforeInput=function(u){if(e.props.value!==void 0&&e.props.value===e.currentContent&&e.editor&&(!e.inline||e.editor.hasFocus()))try{e.valueCursor=e.editor.selection.getBookmark(3)}catch{}},e.handleBeforeInputSpecial=function(u){(u.key==="Enter"||u.key==="Backspace"||u.key==="Delete")&&e.handleBeforeInput(u)},e.handleEditorChange=function(u){var c=e.editor;if(c&&c.initialized){var f=c.getContent();e.props.value!==void 0&&e.props.value!==f&&e.props.rollback!==!1&&(e.rollbackTimer||(e.rollbackTimer=window.setTimeout(e.rollbackChange,typeof e.props.rollback=="number"?e.props.rollback:200))),f!==e.currentContent&&(e.currentContent=f,P(e.props.onEditorChange)&&e.props.onEditorChange(f,c))}},e.handleEditorChangeSpecial=function(u){(u.key==="Backspace"||u.key==="Delete")&&e.handleEditorChange(u)},e.initialise=function(u){var c,f,p;u===void 0&&(u=0);var l=e.elementRef.current;if(l){if(!ie(l)){if(u===0)setTimeout(function(){return e.initialise(1)},1);else if(u<100)setTimeout(function(){return e.initialise(u+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var d=ae(e.view),v=E(E(E(E({},e.props.init),{selector:void 0,target:l,disabled:e.props.disabled,readonly:e.props.readonly,inline:e.inline,plugins:re((c=e.props.init)===null||c===void 0?void 0:c.plugins,e.props.plugins),toolbar:(f=e.props.toolbar)!==null&&f!==void 0?f:(p=e.props.init)===null||p===void 0?void 0:p.toolbar}),e.props.licenseKey?{license_key:e.props.licenseKey}:{}),{setup:function(h){e.editor=h,e.bindHandlers({}),e.inline&&!V(l)&&h.once("PostRender",function(y){h.setContent(e.getInitialValue(),{no_events:!0})}),e.props.init&&P(e.props.init.setup)&&e.props.init.setup(h),e.props.disabled&&(W(e.editor)?e.editor.options.set("disabled",e.props.disabled):e.editor.mode.set("readonly"))},init_instance_callback:function(h){var y,g=e.getInitialValue();e.currentContent=(y=e.currentContent)!==null&&y!==void 0?y:h.getContent(),e.currentContent!==g&&(e.currentContent=g,h.setContent(g),h.undoManager.clear(),h.undoManager.add(),h.setDirty(!1)),e.props.init&&P(e.props.init.init_instance_callback)&&e.props.init.init_instance_callback(h)}});e.inline||(l.style.visibility=""),V(l)&&(l.value=e.getInitialValue()),d.init(v)}},e.id=e.props.id||J("tiny-react"),e.elementRef=k.createRef(),e.inline=(s=(i=e.props.inline)!==null&&i!==void 0?i:(a=e.props.init)===null||a===void 0?void 0:a.inline)!==null&&s!==void 0?s:!1,e.boundHandlers={},e}return Object.defineProperty(o.prototype,"view",{get:function(){var n,i;return(i=(n=this.elementRef.current)===null||n===void 0?void 0:n.ownerDocument.defaultView)!==null&&i!==void 0?i:window},enumerable:!1,configurable:!0}),o.prototype.componentDidUpdate=function(n){var i=this,a,s;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(n),this.editor.initialized)){if(this.currentContent=(a=this.currentContent)!==null&&a!==void 0?a:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==n.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var e=this.editor;e.undoManager.transact(function(){var c;if(!i.inline||e.hasFocus())try{c=e.selection.getBookmark(3)}catch{}var f=i.valueCursor;if(e.setContent(i.props.value),!i.inline||e.hasFocus())for(var p=0,l=[c,f];p<l.length;p++){var d=l[p];if(d)try{e.selection.moveToBookmark(d),i.valueCursor=d;break}catch{}}})}if(this.props.readonly!==n.readonly){var u=(s=this.props.readonly)!==null&&s!==void 0?s:!1;q(this.editor,u?"readonly":"design")}this.props.disabled!==n.disabled&&(W(this.editor)?this.editor.options.set("disabled",this.props.disabled):q(this.editor,this.props.disabled?"readonly":"design"))}},o.prototype.componentDidMount=function(){var n=this,i,a,s,e,u;if(G(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(a=(i=this.props).onScriptsLoadError)===null||a===void 0||a.call(i,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((s=this.elementRef.current)===null||s===void 0)&&s.ownerDocument){var c=function(){var p,l;(l=(p=n.props).onScriptsLoad)===null||l===void 0||l.call(p),n.initialise()},f=function(p){var l,d;(d=(l=n.props).onScriptsLoadError)===null||d===void 0||d.call(l,p)};le.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(u=(e=this.props.scriptLoading)===null||e===void 0?void 0:e.delay)!==null&&u!==void 0?u:0,c,f)}},o.prototype.componentWillUnmount=function(){var n=this,i=this.editor;i&&(i.off(D,this.handleEditorChange),i.off(this.beforeInputEvent(),this.handleBeforeInput),i.off("keypress",this.handleEditorChangeSpecial),i.off("keydown",this.handleBeforeInputSpecial),i.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(a){i.off(a,n.boundHandlers[a])}),this.boundHandlers={},i.remove(),this.editor=void 0)},o.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},o.prototype.beforeInputEvent=function(){return oe()?"beforeinput SelectionChange":"SelectionChange"},o.prototype.renderInline=function(){var n=this.props.tagName,i=n===void 0?"div":n;return k.createElement(i,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},o.prototype.renderIframe=function(){return k.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},o.prototype.getScriptSources=function(){var n,i,a=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.async,s=(i=this.props.scriptLoading)===null||i===void 0?void 0:i.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:a,defer:s}]:this.props.tinymceScriptSrc.map(function(f){return typeof f=="string"?{src:f,async:a,defer:s}:f});var e=this.props.cloudChannel,u=this.props.apiKey?this.props.apiKey:"no-api-key",c="https://cdn.tiny.cloud/1/".concat(u,"/tinymce/").concat(e,"/tinymce.min.js");return[{src:c,async:a,defer:s}]},o.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},o.prototype.bindHandlers=function(n){var i=this;if(this.editor!==void 0){te(this.editor,n,this.props,this.boundHandlers,function(u){return i.props[u]});var a=function(u){return u.onEditorChange!==void 0||u.value!==void 0},s=a(n),e=a(this.props);!s&&e?(this.editor.on(D,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):s&&!e&&(this.editor.off(D,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},o.propTypes=ee,o.defaultProps={cloudChannel:"8"},o})(k.Component);const pe=k.forwardRef((r,o)=>{const n=Y.c(21),{value:i,onChange:a,imageHandler:s,useDarkMode:e,isSmallScreen:u,error:c}=r,f=u?400:600,p=u?700:1e3;let l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l=["accordion","advlist","anchor","autolink","autoresize","charmap","code","codesample","directionality","emoticons","fullscreen","help","image","importcss","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","quickbars","save","searchreplace","table","visualblocks","visualchars","wordcount"],n[0]=l):l=n[0];let d;n[1]!==s?(d=s?async T=>{try{return await s(T)}catch{throw new Error("Upload failed")}}:void 0,n[1]=s,n[2]=d):d=n[2];const v=e?"oxide-dark":"oxide",h=e?"dark":"default";let y;n[3]!==f||n[4]!==p||n[5]!==d||n[6]!==v||n[7]!==h?(y={min_height:f,max_height:p,autoresize_bottom_margin:20,plugins:l,toolbar:"fullscreen | undo redo | blocks | bold italic strikethrough | align numlist bullist | link image media table mergetags | preview | code help",images_upload_handler:d,skin:v,content_css:h,content_style:`
                body {
                    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
                    font-size: 16px;
                    line-height: 1.6;
                }
                img { max-width: 100%; height: auto; border-radius: 8px; }
            `,branding:!1,promotion:!1,elementpath:!1,menubar:!0},n[3]=f,n[4]=p,n[5]=d,n[6]=v,n[7]=h,n[8]=y):y=n[8];const g=y,b=`overflow-hidden rounded-lg border transition-all ${c?"border-red-500 ring-1 ring-red-500":"border-input focus-within:ring-1 focus-within:ring-ring"}`;let m;n[9]!==o?(m=(T,I)=>{o&&(o.current=I)},n[9]=o,n[10]=m):m=n[10];const C=i||"";let S;n[11]!==a?(S=T=>a(T),n[11]=a,n[12]=S):S=n[12];const O=g;let _;n[13]!==C||n[14]!==S||n[15]!==O||n[16]!==m?(_=N.jsx(de,{apiKey:"0rl4abq6pz1sf2afw9izxs2pxqr7jbh970rxtxb8r85zwil4",onInit:m,value:C,onEditorChange:S,init:O}),n[13]=C,n[14]=S,n[15]=O,n[16]=m,n[17]=_):_=n[17];let w;return n[18]!==_||n[19]!==b?(w=N.jsx("div",{className:b,children:_}),n[18]=_,n[19]=b,n[20]=w):w=n[20],w});pe.displayName="ContentEditor";export{pe as ContentEditor};
