import{c as tt,r as d,u as st,a as lt,j as t,H as rt,b as Qe}from"./app-DwYhUbFD.js";import{A as at,a as it,b as ot}from"./alert-DKpLdQz_.js";import{A as nt,a as ct,b as mt,c as dt,d as ft,e as pt,f as ht,g as gt}from"./alert-dialog-DM48XG9D.js";import{B as ke}from"./button-CcueVF--.js";import{D as ut,a as xt,b as _t,c as jt,d as St}from"./dialog-rHAtIdnF.js";import{I as Ke}from"./input-DTAyzQ0a.js";import{L as le}from"./label-CwocWEfa.js";import{b as bt,a as yt,c as vt,d as Ct,S as Dt}from"./select-CYzAyHhP.js";import{S as Nt}from"./switch-B3ed7PGQ.js";import{T as At}from"./textarea-BTTDm0Pv.js";import{A as wt}from"./app-layout-Cs3omUC6.js";import{d as Oe}from"./index-DGdR22o3.js";import{columns as Tt}from"./columns-D_y6_dXo.js";import{DataTable as kt}from"./data-table-xGuv7j0E.js";import{C as Ot}from"./circle-check-j9mBlq3o.js";import{P as It}from"./plus-C02fu0MX.js";import{S as Pt}from"./search-Cbegv_5T.js";import{C as Et}from"./chevron-left-KKM1Z3fA.js";import{C as Lt}from"./chevron-right-BrJB21wp.js";/* empty css            */import"./utils-D0Zg16Wk.js";import"./index-CS4WM3vw.js";import"./index-DhKngAEP.js";import"./sheet-zlfE-5B4.js";import"./Combination-CoFKdG7U.js";import"./index-CfIvfTC2.js";import"./index-BeWhH1Qs.js";import"./x-D9fBIHXo.js";import"./createLucideIcon-CznxfoMw.js";import"./index-BMq2OniD.js";import"./index-BpSvTejM.js";import"./index-CihGyieV.js";import"./index-BgN-6-E9.js";import"./check-BImFCEdY.js";import"./dropdown-menu-DNV6jZYD.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-B-q8qzBG.js";import"./trash-2-BP4EAEJ6.js";import"./index-lOntlNai.js";function Cs(m){const e=tt.c(155),{subCategories:l,categories:Ie,filters:o}=m,[Pe,Ee]=d.useState(!1),[Le,He]=d.useState(!1),[f,We]=d.useState(null),[se,Xe]=d.useState(null),[i,Ye]=d.useState(o.search||""),{flash:re}=st().props;let ae;e[0]!==o.direction||e[1]!==o.field?(ae=o.field?[{id:o.field,desc:o.direction==="desc"}]:[],e[0]=o.direction,e[1]=o.field,e[2]=ae):ae=e[2];const[n,Ze]=d.useState(ae),Re=Rt;let ie;e[3]!==o.search||e[4]!==i||e[5]!==n?(ie=()=>{const s=setTimeout(()=>{i!==(o.search||"")&&Re(i,n)},300);return()=>clearTimeout(s)},e[3]=o.search,e[4]=i,e[5]=n,e[6]=ie):ie=e[6];let oe;e[7]!==i?(oe=[i,Re],e[7]=i,e[8]=oe):oe=e[8],d.useEffect(ie,oe);let ne;e[9]===Symbol.for("react.memo_cache_sentinel")?(ne={category_id:"",name:"",description:"",order:0,is_nav:!0},e[9]=ne):ne=e[9];const{data:a,setData:r,post:Fe,patch:ze,delete:Be,processing:Me,reset:p,errors:c}=lt(ne);let ce;e[10]!==p||e[11]!==r?(ce=s=>{s?(We(s),r({category_id:s.category_id.toString(),name:s.name,description:s.description||"",order:s.order,is_nav:s.is_nav})):(We(null),p()),Ee(!0)},e[10]=p,e[11]=r,e[12]=ce):ce=e[12];const h=ce;let me;e[13]!==f||e[14]!==ze||e[15]!==Fe||e[16]!==p?(me=s=>{s.preventDefault();const Te=f?ze(Oe.subCategories.update(f.id).url):Fe(Oe.subCategories.store().url);Te.onSuccess=()=>{Ee(!1),p()}},e[13]=f,e[14]=ze,e[15]=Fe,e[16]=p,e[17]=me):me=e[17];const Ue=me;let de,fe;e[18]===Symbol.for("react.memo_cache_sentinel")?(de=[{title:"Sub Categories",href:"#"}],fe=t.jsx(rt,{title:"Sub Categories"}),e[18]=de,e[19]=fe):(de=e[18],fe=e[19]);let g;e[20]!==re.success?(g=re.success&&t.jsxs(at,{className:"border-green-500 bg-green-50 text-green-700",children:[t.jsx(Ot,{className:"h-4 w-4"}),t.jsx(it,{children:"Success"}),t.jsx(ot,{children:re.success})]}),e[20]=re.success,e[21]=g):g=e[21];let pe;e[22]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Sub Categories"}),e[22]=pe):pe=e[22];let u;e[23]!==h?(u=()=>h(),e[23]=h,e[24]=u):u=e[24];let he;e[25]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(It,{className:"mr-2 h-4 w-4"}),e[25]=he):he=e[25];let x;e[26]!==u?(x=t.jsxs("div",{className:"flex items-center justify-between",children:[pe,t.jsxs(ke,{onClick:u,children:[he," Add Sub Category"]})]}),e[26]=u,e[27]=x):x=e[27];let ge;e[28]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Pt,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[28]=ge):ge=e[28];let ue;e[29]===Symbol.for("react.memo_cache_sentinel")?(ue=s=>Ye(s.target.value),e[29]=ue):ue=e[29];let _;e[30]!==i?(_=t.jsxs("div",{className:"relative max-w-sm",children:[ge,t.jsx(Ke,{placeholder:"Search...",className:"pl-8",value:i,onChange:ue})]}),e[30]=i,e[31]=_):_=e[31];let xe;e[32]===Symbol.for("react.memo_cache_sentinel")?(xe=s=>{Xe(s),He(!0)},e[32]=xe):xe=e[32];let j;e[33]!==h?(j=Tt(h,xe),e[33]=h,e[34]=j):j=e[34];let S;e[35]!==i||e[36]!==n?(S=s=>{const Te=typeof s=="function"?s(n):s;Ze(Te),Re(i,Te)},e[35]=i,e[36]=n,e[37]=S):S=e[37];let b;e[38]!==n||e[39]!==l.data||e[40]!==j||e[41]!==S?(b=t.jsx(kt,{columns:j,data:l.data,sorting:n,onSortingChange:S}),e[38]=n,e[39]=l.data,e[40]=j,e[41]=S,e[42]=b):b=e[42];let y;e[43]!==l.from||e[44]!==l.to||e[45]!==l.total?(y=t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",l.from," to ",l.to," of ",l.total]}),e[43]=l.from,e[44]=l.to,e[45]=l.total,e[46]=y):y=e[46];let v;e[47]!==l.prev_page_url?(v=()=>Qe.get(l.prev_page_url),e[47]=l.prev_page_url,e[48]=v):v=e[48];const Ve=!l.prev_page_url;let _e;e[49]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(Et,{className:"mr-1 h-4 w-4"}),e[49]=_e):_e=e[49];let C;e[50]!==v||e[51]!==Ve?(C=t.jsxs(ke,{variant:"outline",size:"sm",onClick:v,disabled:Ve,children:[_e," Prev"]}),e[50]=v,e[51]=Ve,e[52]=C):C=e[52];let D;e[53]!==l.next_page_url?(D=()=>Qe.get(l.next_page_url),e[53]=l.next_page_url,e[54]=D):D=e[54];const $e=!l.next_page_url;let je;e[55]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(Lt,{className:"ml-1 h-4 w-4"}),e[55]=je):je=e[55];let N;e[56]!==D||e[57]!==$e?(N=t.jsxs(ke,{variant:"outline",size:"sm",onClick:D,disabled:$e,children:["Next ",je]}),e[56]=D,e[57]=$e,e[58]=N):N=e[58];let A;e[59]!==C||e[60]!==N?(A=t.jsxs("div",{className:"flex gap-2",children:[C,N]}),e[59]=C,e[60]=N,e[61]=A):A=e[61];let w;e[62]!==y||e[63]!==A?(w=t.jsxs("div",{className:"flex items-center justify-between px-2",children:[y,A]}),e[62]=y,e[63]=A,e[64]=w):w=e[64];const qe=f?"Edit":"Create";let T;e[65]!==qe?(T=t.jsx(ut,{children:t.jsxs(xt,{children:[qe," Sub Category"]})}),e[65]=qe,e[66]=T):T=e[66];let Se;e[67]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(le,{children:"Parent Category"}),e[67]=Se):Se=e[67];const et=a.category_id;let k;e[68]!==r?(k=s=>r("category_id",s),e[68]=r,e[69]=k):k=e[69];let be;e[70]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(bt,{children:t.jsx(yt,{placeholder:"Select Parent"})}),e[70]=be):be=e[70];let O;e[71]!==Ie?(O=Ie.map(Ht),e[71]=Ie,e[72]=O):O=e[72];let I;e[73]!==O?(I=t.jsx(vt,{children:O}),e[73]=O,e[74]=I):I=e[74];let P;e[75]!==a.category_id||e[76]!==k||e[77]!==I?(P=t.jsxs(Ct,{value:et,onValueChange:k,children:[be,I]}),e[75]=a.category_id,e[76]=k,e[77]=I,e[78]=P):P=e[78];let E;e[79]!==c.category_id?(E=c.category_id&&t.jsx("p",{className:"text-xs text-red-500",children:c.category_id}),e[79]=c.category_id,e[80]=E):E=e[80];let L;e[81]!==P||e[82]!==E?(L=t.jsxs("div",{className:"grid gap-2",children:[Se,P,E]}),e[81]=P,e[82]=E,e[83]=L):L=e[83];let ye;e[84]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(le,{children:"Name"}),e[84]=ye):ye=e[84];let H;e[85]!==r?(H=s=>r("name",s.target.value),e[85]=r,e[86]=H):H=e[86];let R;e[87]!==a.name||e[88]!==H?(R=t.jsx(Ke,{value:a.name,onChange:H}),e[87]=a.name,e[88]=H,e[89]=R):R=e[89];let F;e[90]!==c.name?(F=c.name&&t.jsx("p",{className:"text-xs text-red-500",children:c.name}),e[90]=c.name,e[91]=F):F=e[91];let z;e[92]!==R||e[93]!==F?(z=t.jsxs("div",{className:"grid gap-2",children:[ye,R,F]}),e[92]=R,e[93]=F,e[94]=z):z=e[94];let ve;e[95]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(le,{children:"Description"}),e[95]=ve):ve=e[95];let B;e[96]!==r?(B=s=>r("description",s.target.value),e[96]=r,e[97]=B):B=e[97];let M;e[98]!==a.description||e[99]!==B?(M=t.jsxs("div",{className:"grid gap-2",children:[ve,t.jsx(At,{value:a.description,onChange:B})]}),e[98]=a.description,e[99]=B,e[100]=M):M=e[100];let Ce;e[101]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(le,{children:"Order"}),e[101]=Ce):Ce=e[101];let U;e[102]!==r?(U=s=>r("order",parseInt(s.target.value)||0),e[102]=r,e[103]=U):U=e[103];let V;e[104]!==a.order||e[105]!==U?(V=t.jsxs("div",{className:"grid gap-2",children:[Ce,t.jsx(Ke,{type:"number",value:a.order,onChange:U})]}),e[104]=a.order,e[105]=U,e[106]=V):V=e[106];let $;e[107]!==r?($=s=>r("is_nav",s),e[107]=r,e[108]=$):$=e[108];let q;e[109]!==a.is_nav||e[110]!==$?(q=t.jsx(Nt,{checked:a.is_nav,onCheckedChange:$}),e[109]=a.is_nav,e[110]=$,e[111]=q):q=e[111];let De;e[112]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(le,{children:"Navbar"}),e[112]=De):De=e[112];let G;e[113]!==q?(G=t.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[q,De]}),e[113]=q,e[114]=G):G=e[114];let J;e[115]!==V||e[116]!==G?(J=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[V,G]}),e[115]=V,e[116]=G,e[117]=J):J=e[117];const Ge=f?"Update":"Save";let K;e[118]!==Me||e[119]!==Ge?(K=t.jsx(_t,{children:t.jsx(ke,{type:"submit",disabled:Me,children:Ge})}),e[118]=Me,e[119]=Ge,e[120]=K):K=e[120];let Q;e[121]!==Ue||e[122]!==L||e[123]!==z||e[124]!==M||e[125]!==J||e[126]!==K?(Q=t.jsxs("form",{onSubmit:Ue,className:"grid gap-4 py-2",children:[L,z,M,J,K]}),e[121]=Ue,e[122]=L,e[123]=z,e[124]=M,e[125]=J,e[126]=K,e[127]=Q):Q=e[127];let W;e[128]!==T||e[129]!==Q?(W=t.jsxs(jt,{children:[T,Q]}),e[128]=T,e[129]=Q,e[130]=W):W=e[130];let X;e[131]!==Pe||e[132]!==W?(X=t.jsx(St,{open:Pe,onOpenChange:Ee,children:W}),e[131]=Pe,e[132]=W,e[133]=X):X=e[133];let Ne;e[134]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(nt,{children:"Delete Sub Category?"}),e[134]=Ne):Ne=e[134];const Je=se?.name;let Y;e[135]!==Je?(Y=t.jsxs(ct,{children:[Ne,t.jsxs(mt,{children:["Permanently delete ",t.jsx("strong",{children:Je}),"?"]})]}),e[135]=Je,e[136]=Y):Y=e[136];let Ae;e[137]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(dt,{children:"Cancel"}),e[137]=Ae):Ae=e[137];let Z;e[138]!==Be||e[139]!==se?(Z=t.jsxs(ft,{children:[Ae,t.jsx(pt,{className:"bg-red-600",onClick:()=>se&&Be(Oe.subCategories.destroy(se.id).url,{onSuccess:()=>He(!1)}),children:"Delete"})]}),e[138]=Be,e[139]=se,e[140]=Z):Z=e[140];let ee;e[141]!==Y||e[142]!==Z?(ee=t.jsxs(ht,{children:[Y,Z]}),e[141]=Y,e[142]=Z,e[143]=ee):ee=e[143];let te;e[144]!==Le||e[145]!==ee?(te=t.jsx(gt,{open:Le,onOpenChange:He,children:ee}),e[144]=Le,e[145]=ee,e[146]=te):te=e[146];let we;return e[147]!==x||e[148]!==_||e[149]!==b||e[150]!==w||e[151]!==X||e[152]!==te||e[153]!==g?(we=t.jsxs(wt,{breadcrumbs:de,children:[fe,t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-4",children:[g,x,_,b,w,X,te]})]}),e[147]=x,e[148]=_,e[149]=b,e[150]=w,e[151]=X,e[152]=te,e[153]=g,e[154]=we):we=e[154],we}function Ht(m){return t.jsx(Dt,{value:m.id.toString(),children:m.name},m.id)}function Rt(m,e){Qe.get(Oe.subCategories.index().url,{search:m,field:e[0]?.id,direction:e[0]?.desc?"desc":"asc"},{preserveState:!0,replace:!0})}export{Cs as default};
