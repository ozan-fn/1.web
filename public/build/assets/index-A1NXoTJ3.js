import{c as He,r as d,u as Le,j as s,a as Ee,H as Oe}from"./app-C6aNbZtK.js";import{P as Pe,S as $e,A as Be,a as Me,b as Re,c as qe,d as ze,e as Ge,f as Je,g as Ke}from"./alert-dialog-C2JHcfXC.js";import{B as Ue}from"./button-D35IbtS2.js";import{b as Qe,f as We,a as Xe,c as Ye,d as Ze,e as Ve}from"./dialog-C6iS31m8.js";import{I as me}from"./input-z5Dj0cf1.js";import{L as Ae}from"./label-CftUm6OD.js";import{A as es}from"./app-layout-DS-hg9fm.js";import{columns as ss}from"./columns-CPfyelcp.js";import{DataTable as ts}from"./data-table-jgCXCGYi.js";/* empty css            */import"./createLucideIcon-C_Qutkto.js";import"./index-NasusMmH.js";import"./index-CP8rp3no.js";import"./dropdown-menu-BRHTCq_-.js";import"./index-Bhpqllgs.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-Bf9uezcb.js";import"./trash-2-uF_hTlx2.js";import"./index-CApf2YQs.js";const ls=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/dashboard/users"}];function vs(Te){const e=He.c(117),{users:de,filters:i}=Te,[fe,z]=d.useState(!1),[c,he]=d.useState(null),[pe,ue]=d.useState(!1),[R,Ce]=d.useState(null),[a,Fe]=d.useState(i.search||"");let G;e[0]!==i.direction||e[1]!==i.field?(G=i.field?[{id:i.field,desc:i.direction==="desc"}]:[],e[0]=i.direction,e[1]=i.field,e[2]=G):G=e[2];const[o,ke]=d.useState(G);let J;e[3]===Symbol.for("react.memo_cache_sentinel")?(J={name:"",email:"",password:""},e[3]=J):J=e[3];const{data:n,setData:l,post:xe,patch:ge,delete:je,processing:be,reset:f,errors:r}=Le(J);let K;e[4]!==a||e[5]!==o?(K=t=>{const m=typeof t=="function"?t(o):t;ke(m),Ee.get("/dashboard/users",{search:a,field:m[0]?.id,direction:m[0]?m[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[4]=a,e[5]=o,e[6]=K):K=e[6];const Se=K;let Q;e[7]!==i.search||e[8]!==a||e[9]!==o?(Q=()=>{const t=setTimeout(()=>{a!==(i.search||"")&&Ee.get("/dashboard/users",{search:a,field:o[0]?.id,direction:o[0]?o[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(t)},e[7]=i.search,e[8]=a,e[9]=o,e[10]=Q):Q=e[10];let W;e[11]!==a?(W=[a],e[11]=a,e[12]=W):W=e[12],d.useEffect(Q,W);let h,p;if(e[13]!==c||e[14]!==ge||e[15]!==xe||e[16]!==f||e[17]!==l){h=q=>{q.preventDefault(),c?ge(`/dashboard/users/${c.id}`,{onSuccess:()=>m()}):xe("/dashboard/users",{onSuccess:()=>m()})};let t;e[20]!==l?(t=q=>{he(q),l({name:q.name,email:q.email,password:""}),z(!0)},e[20]=l,e[21]=t):t=e[21],p=t;const m=()=>{z(!1),he(null),f()};e[13]=c,e[14]=ge,e[15]=xe,e[16]=f,e[17]=l,e[18]=h,e[19]=p}else h=e[18],p=e[19];let X;e[22]===Symbol.for("react.memo_cache_sentinel")?(X=t=>{Ce(t),ue(!0)},e[22]=X):X=e[22];const Ie=X;let Y;e[23]!==je||e[24]!==R?(Y=()=>{R&&je(`/dashboard/users/${R.id}`,{onSuccess:()=>{ue(!1),Ce(null)}})},e[23]=je,e[24]=R,e[25]=Y):Y=e[25];const De=Y;let Z;e[26]!==p?(Z=ss(p,Ie),e[26]=p,e[27]=Z):Z=e[27];const ye=Z;let V;e[28]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(Oe,{title:"Users"}),e[28]=V):V=e[28];let ee;e[29]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Users"}),e[29]=ee):ee=e[29];let u;e[30]!==f?(u=()=>{he(null),f(),z(!0)},e[30]=f,e[31]=u):u=e[31];let se;e[32]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(Pe,{className:"mr-2 h-4 w-4"}),e[32]=se):se=e[32];let x;e[33]!==u?(x=s.jsxs(Ue,{onClick:u,children:[se," Add User"]}),e[33]=u,e[34]=x):x=e[34];const ve=c?"Edit User":"Add New User";let g;e[35]!==ve?(g=s.jsx(Qe,{children:ve}),e[35]=ve,e[36]=g):g=e[36];let te;e[37]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(We,{children:"Fill in the user details below."}),e[37]=te):te=e[37];let j;e[38]!==g?(j=s.jsxs(Xe,{children:[g,te]}),e[38]=g,e[39]=j):j=e[39];let le;e[40]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx(Ae,{htmlFor:"name",children:"Full Name"}),e[40]=le):le=e[40];let b;e[41]!==l?(b=t=>l("name",t.target.value),e[41]=l,e[42]=b):b=e[42];let S;e[43]!==n.name||e[44]!==b?(S=s.jsx(me,{id:"name",value:n.name,onChange:b,placeholder:"Enter name"}),e[43]=n.name,e[44]=b,e[45]=S):S=e[45];let D;e[46]!==r.name?(D=r.name&&s.jsx("p",{className:"text-xs text-red-500",children:r.name}),e[46]=r.name,e[47]=D):D=e[47];let y;e[48]!==S||e[49]!==D?(y=s.jsxs("div",{className:"space-y-2",children:[le,S,D]}),e[48]=S,e[49]=D,e[50]=y):y=e[50];let ae;e[51]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(Ae,{htmlFor:"email",children:"Email"}),e[51]=ae):ae=e[51];let v;e[52]!==l?(v=t=>l("email",t.target.value),e[52]=l,e[53]=v):v=e[53];let _;e[54]!==n.email||e[55]!==v?(_=s.jsx(me,{id:"email",type:"email",value:n.email,onChange:v,placeholder:"Enter email"}),e[54]=n.email,e[55]=v,e[56]=_):_=e[56];let w;e[57]!==r.email?(w=r.email&&s.jsx("p",{className:"text-xs text-red-500",children:r.email}),e[57]=r.email,e[58]=w):w=e[58];let N;e[59]!==_||e[60]!==w?(N=s.jsxs("div",{className:"space-y-2",children:[ae,_,w]}),e[59]=_,e[60]=w,e[61]=N):N=e[61];const _e=c&&"(Leave blank to keep current)";let A;e[62]!==_e?(A=s.jsxs(Ae,{htmlFor:"password",children:["Password"," ",_e]}),e[62]=_e,e[63]=A):A=e[63];let C;e[64]!==l?(C=t=>l("password",t.target.value),e[64]=l,e[65]=C):C=e[65];let E;e[66]!==n.password||e[67]!==C?(E=s.jsx(me,{id:"password",type:"password",value:n.password,onChange:C,placeholder:"Enter password"}),e[66]=n.password,e[67]=C,e[68]=E):E=e[68];let U;e[69]!==r.password?(U=r.password&&s.jsx("p",{className:"text-xs text-red-500",children:r.password}),e[69]=r.password,e[70]=U):U=e[70];let T;e[71]!==A||e[72]!==E||e[73]!==U?(T=s.jsxs("div",{className:"space-y-2",children:[A,E,U]}),e[71]=A,e[72]=E,e[73]=U,e[74]=T):T=e[74];const we=c?"Update":"Save";let F;e[75]!==be||e[76]!==we?(F=s.jsx(Ye,{children:s.jsxs(Ue,{type:"submit",disabled:be,children:[we," User"]})}),e[75]=be,e[76]=we,e[77]=F):F=e[77];let k;e[78]!==h||e[79]!==y||e[80]!==N||e[81]!==T||e[82]!==F?(k=s.jsxs("form",{onSubmit:h,className:"space-y-4 py-4",children:[y,N,T,F]}),e[78]=h,e[79]=y,e[80]=N,e[81]=T,e[82]=F,e[83]=k):k=e[83];let I;e[84]!==j||e[85]!==k?(I=s.jsxs(Ze,{children:[j,k]}),e[84]=j,e[85]=k,e[86]=I):I=e[86];let H;e[87]!==fe||e[88]!==x||e[89]!==I?(H=s.jsxs("div",{className:"flex items-center justify-between",children:[ee,s.jsxs(Ve,{open:fe,onOpenChange:z,children:[x,I]})]}),e[87]=fe,e[88]=x,e[89]=I,e[90]=H):H=e[90];let re;e[91]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx($e,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[91]=re):re=e[91];let ie;e[92]===Symbol.for("react.memo_cache_sentinel")?(ie=t=>Fe(t.target.value),e[92]=ie):ie=e[92];let L;e[93]!==a?(L=s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative w-full max-w-sm",children:[re,s.jsx(me,{type:"search",placeholder:"Search users...",className:"pl-8",value:a,onChange:ie})]})}),e[93]=a,e[94]=L):L=e[94];let O;e[95]!==Se||e[96]!==o||e[97]!==ye||e[98]!==de?(O=s.jsx(ts,{columns:ye,data:de,sorting:o,onSortingChange:Se}),e[95]=Se,e[96]=o,e[97]=ye,e[98]=de,e[99]=O):O=e[99];let oe;e[100]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(Be,{children:"Are you absolutely sure?"}),e[100]=oe):oe=e[100];const Ne=R?.name;let P;e[101]!==Ne?(P=s.jsxs(Me,{children:[oe,s.jsxs(Re,{children:["This action cannot be undone. This will permanently delete user"," ",s.jsx("strong",{children:Ne}),"."]})]}),e[101]=Ne,e[102]=P):P=e[102];let ne;e[103]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(qe,{children:"Cancel"}),e[103]=ne):ne=e[103];let $;e[104]!==De?($=s.jsxs(ze,{children:[ne,s.jsx(Ge,{onClick:De,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[104]=De,e[105]=$):$=e[105];let B;e[106]!==P||e[107]!==$?(B=s.jsxs(Je,{children:[P,$]}),e[106]=P,e[107]=$,e[108]=B):B=e[108];let M;e[109]!==pe||e[110]!==B?(M=s.jsx(Ke,{open:pe,onOpenChange:ue,children:B}),e[109]=pe,e[110]=B,e[111]=M):M=e[111];let ce;return e[112]!==H||e[113]!==L||e[114]!==O||e[115]!==M?(ce=s.jsxs(es,{breadcrumbs:ls,children:[V,s.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[H,L,O,M]})]}),e[112]=H,e[113]=L,e[114]=O,e[115]=M,e[116]=ce):ce=e[116],ce}export{vs as default};
