import{c as tt,r as m,u as st,a as lt,j as t,H as it,b as We}from"./app-yBWYrvu7.js";import{A as rt,a as at,b as ot}from"./alert-GN0ot_L-.js";import{A as nt,a as ct,b as mt,c as dt,d as ft,e as ht,f as pt,g as xt}from"./alert-dialog-CYiCqmor.js";import{B as ee}from"./button-CZRuF67P.js";import{D as gt,a as ut,b as _t,c as jt,d as bt}from"./dialog-SCvi-Hc8.js";import{I as Ve}from"./input-DfY9cYrA.js";import{L as te}from"./label-BiWWDCh8.js";import{S as Ye}from"./switch-CVamgGl8.js";import{T as vt}from"./textarea-337G5JqV.js";import{A as St}from"./app-layout-CHrlLCGY.js";import{d as Fe}from"./index-DGdR22o3.js";import{columns as Ct}from"./columns-62pOu8e2.js";import{DataTable as yt}from"./data-table-jsM0LF0r.js";import{C as Dt}from"./circle-check-DCo8aIbs.js";import{P as Nt}from"./plus-CLP_TXzW.js";import{S as At}from"./search-BOnnAjG9.js";import{C as kt}from"./chevron-left-D_uq3sZf.js";import{C as wt}from"./chevron-right-ClFigtRl.js";/* empty css            */import"./utils-D0Zg16Wk.js";import"./index-TcaAS_tV.js";import"./index-CQiW1aUd.js";import"./sheet-CS5Su-yB.js";import"./Combination-DUROhw9F.js";import"./index-DRmzSbuJ.js";import"./index-DU37-ZoK.js";import"./x-ubV4N0Da.js";import"./createLucideIcon-YuAr-stV.js";import"./index-BedGfORi.js";import"./index-B58F5v5O.js";import"./index-CZxGc3Cr.js";import"./index-DfhZkdBC.js";import"./dropdown-menu-NW2gBBx-.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-DBB9ob6q.js";import"./trash-2-BB1WTgoi.js";import"./index-DXWl_amB.js";const Tt=[{title:"Dashboard",href:"/dashboard"},{title:"Categories",href:"/dashboard/categories"}];function us(Oe){const e=tt.c(153),{categories:l,filters:o}=Oe,[Ee,se]=m.useState(!1),[Ie,He]=m.useState(!1),[c,Xe]=m.useState(null),[Z,Le]=m.useState(null),[a,Ze]=m.useState(o.search||""),{flash:le}=st().props;let ie;e[0]!==o.direction||e[1]!==o.field?(ie=o.field?[{id:o.field,desc:o.direction==="desc"}]:[],e[0]=o.direction,e[1]=o.field,e[2]=ie):ie=e[2];const[n,et]=m.useState(ie),Pe=Ft;let re;e[3]!==o.search||e[4]!==a||e[5]!==n?(re=()=>{const s=setTimeout(()=>{a!==(o.search||"")&&Pe(a,n)},300);return()=>clearTimeout(s)},e[3]=o.search,e[4]=a,e[5]=n,e[6]=re):re=e[6];let ae;e[7]!==a?(ae=[a,Pe],e[7]=a,e[8]=ae):ae=e[8],m.useEffect(re,ae);let oe;e[9]===Symbol.for("react.memo_cache_sentinel")?(oe={name:"",description:"",order:0,is_nav:!0,is_homepage:!1},e[9]=oe):oe=e[9];const{data:r,setData:i,post:Re,patch:ze,delete:Be,processing:Me,reset:d,errors:ne}=lt(oe);let ce;e[10]!==d||e[11]!==i?(ce=s=>{s?(Xe(s),i({name:s.name,description:s.description||"",order:s.order,is_nav:s.is_nav,is_homepage:s.is_homepage})):(Xe(null),d()),se(!0)},e[10]=d,e[11]=i,e[12]=ce):ce=e[12];const f=ce;let me;e[13]!==c||e[14]!==ze||e[15]!==Re||e[16]!==d?(me=s=>{s.preventDefault();const Te=c?Fe.categories.update(c.id).url:Fe.categories.store().url;(c?ze:Re)(Te,{onSuccess:()=>{se(!1),d()}})},e[13]=c,e[14]=ze,e[15]=Re,e[16]=d,e[17]=me):me=e[17];const Ue=me;let de;e[18]!==Z||e[19]!==Be?(de=()=>{Z&&Be(Fe.categories.destroy(Z.id).url,{onSuccess:()=>{He(!1),Le(null)}})},e[18]=Z,e[19]=Be,e[20]=de):de=e[20];const $e=de;let fe;e[21]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(it,{title:"Categories"}),e[21]=fe):fe=e[21];let h;e[22]!==le.success?(h=le.success&&t.jsxs(rt,{className:"border-green-500/50 bg-green-50 text-green-700",children:[t.jsx(Dt,{className:"h-4 w-4"}),t.jsx(at,{children:"Success"}),t.jsx(ot,{children:le.success})]}),e[22]=le.success,e[23]=h):h=e[23];let he;e[24]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Categories"}),e[24]=he):he=e[24];let p;e[25]!==f?(p=()=>f(),e[25]=f,e[26]=p):p=e[26];let pe;e[27]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(Nt,{className:"mr-2 h-4 w-4"}),e[27]=pe):pe=e[27];let x;e[28]!==p?(x=t.jsxs("div",{className:"flex items-center justify-between",children:[he,t.jsxs(ee,{onClick:p,children:[pe," Add Category"]})]}),e[28]=p,e[29]=x):x=e[29];let xe;e[30]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(At,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[30]=xe):xe=e[30];let ge;e[31]===Symbol.for("react.memo_cache_sentinel")?(ge=s=>Ze(s.target.value),e[31]=ge):ge=e[31];let g;e[32]!==a?(g=t.jsxs("div",{className:"relative max-w-sm",children:[xe,t.jsx(Ve,{placeholder:"Search categories...",className:"pl-8",value:a,onChange:ge})]}),e[32]=a,e[33]=g):g=e[33];let ue;e[34]===Symbol.for("react.memo_cache_sentinel")?(ue=s=>{Le(s),He(!0)},e[34]=ue):ue=e[34];let u;e[35]!==f?(u=Ct(f,ue),e[35]=f,e[36]=u):u=e[36];let _;e[37]!==a||e[38]!==n?(_=s=>{const Te=typeof s=="function"?s(n):s;et(Te),Pe(a,Te)},e[37]=a,e[38]=n,e[39]=_):_=e[39];let j;e[40]!==l.data||e[41]!==n||e[42]!==u||e[43]!==_?(j=t.jsx(yt,{columns:u,data:l.data,sorting:n,onSortingChange:_}),e[40]=l.data,e[41]=n,e[42]=u,e[43]=_,e[44]=j):j=e[44];let b;e[45]!==l.from||e[46]!==l.to||e[47]!==l.total?(b=t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",l.from," to ",l.to," of ",l.total," results"]}),e[45]=l.from,e[46]=l.to,e[47]=l.total,e[48]=b):b=e[48];let v;e[49]!==l.prev_page_url?(v=()=>We.get(l.prev_page_url||""),e[49]=l.prev_page_url,e[50]=v):v=e[50];const qe=!l.prev_page_url;let _e;e[51]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(kt,{className:"mr-1 h-4 w-4"}),e[51]=_e):_e=e[51];let S;e[52]!==v||e[53]!==qe?(S=t.jsxs(ee,{variant:"outline",size:"sm",onClick:v,disabled:qe,children:[_e," Previous"]}),e[52]=v,e[53]=qe,e[54]=S):S=e[54];let C;e[55]!==l.next_page_url?(C=()=>We.get(l.next_page_url||""),e[55]=l.next_page_url,e[56]=C):C=e[56];const Ge=!l.next_page_url;let je;e[57]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(wt,{className:"ml-1 h-4 w-4"}),e[57]=je):je=e[57];let y;e[58]!==C||e[59]!==Ge?(y=t.jsxs(ee,{variant:"outline",size:"sm",onClick:C,disabled:Ge,children:["Next ",je]}),e[58]=C,e[59]=Ge,e[60]=y):y=e[60];let D;e[61]!==S||e[62]!==y?(D=t.jsxs("div",{className:"flex items-center space-x-2",children:[S,y]}),e[61]=S,e[62]=y,e[63]=D):D=e[63];let N;e[64]!==b||e[65]!==D?(N=t.jsxs("div",{className:"flex items-center justify-between px-2",children:[b,D]}),e[64]=b,e[65]=D,e[66]=N):N=e[66];let A;e[67]!==j||e[68]!==N?(A=t.jsxs("div",{className:"space-y-4",children:[j,N]}),e[67]=j,e[68]=N,e[69]=A):A=e[69];let be;e[70]===Symbol.for("react.memo_cache_sentinel")?(be=s=>!s&&se(!1),e[70]=be):be=e[70];const Je=c?"Edit":"Create";let k;e[71]!==Je?(k=t.jsx(gt,{children:t.jsxs(ut,{children:[Je," Category"]})}),e[71]=Je,e[72]=k):k=e[72];let ve;e[73]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(te,{htmlFor:"name",children:"Name"}),e[73]=ve):ve=e[73];let w;e[74]!==i?(w=s=>i("name",s.target.value),e[74]=i,e[75]=w):w=e[75];let T;e[76]!==r.name||e[77]!==w?(T=t.jsx(Ve,{id:"name",value:r.name,onChange:w}),e[76]=r.name,e[77]=w,e[78]=T):T=e[78];let F;e[79]!==ne.name?(F=ne.name&&t.jsx("p",{className:"text-xs text-red-500",children:ne.name}),e[79]=ne.name,e[80]=F):F=e[80];let O;e[81]!==T||e[82]!==F?(O=t.jsxs("div",{className:"grid gap-2",children:[ve,T,F]}),e[81]=T,e[82]=F,e[83]=O):O=e[83];let Se;e[84]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(te,{htmlFor:"description",children:"Description"}),e[84]=Se):Se=e[84];let E;e[85]!==i?(E=s=>i("description",s.target.value),e[85]=i,e[86]=E):E=e[86];let I;e[87]!==r.description||e[88]!==E?(I=t.jsxs("div",{className:"grid gap-2",children:[Se,t.jsx(vt,{id:"description",value:r.description,onChange:E})]}),e[87]=r.description,e[88]=E,e[89]=I):I=e[89];let Ce;e[90]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(te,{htmlFor:"order",children:"Order"}),e[90]=Ce):Ce=e[90];let H;e[91]!==i?(H=s=>i("order",parseInt(s.target.value)||0),e[91]=i,e[92]=H):H=e[92];let L;e[93]!==r.order||e[94]!==H?(L=t.jsxs("div",{className:"grid gap-2",children:[Ce,t.jsx(Ve,{id:"order",type:"number",value:r.order,onChange:H})]}),e[93]=r.order,e[94]=H,e[95]=L):L=e[95];let P;e[96]!==i?(P=s=>i("is_nav",s),e[96]=i,e[97]=P):P=e[97];let R;e[98]!==r.is_nav||e[99]!==P?(R=t.jsx(Ye,{id:"is_nav",checked:r.is_nav,onCheckedChange:P}),e[98]=r.is_nav,e[99]=P,e[100]=R):R=e[100];let ye;e[101]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(te,{htmlFor:"is_nav",className:"text-xs",children:"Navbar"}),e[101]=ye):ye=e[101];let z;e[102]!==R?(z=t.jsxs("div",{className:"flex items-center gap-2",children:[R,ye]}),e[102]=R,e[103]=z):z=e[103];let B;e[104]!==i?(B=s=>i("is_homepage",s),e[104]=i,e[105]=B):B=e[105];let M;e[106]!==r.is_homepage||e[107]!==B?(M=t.jsx(Ye,{id:"is_home",checked:r.is_homepage,onCheckedChange:B}),e[106]=r.is_homepage,e[107]=B,e[108]=M):M=e[108];let De;e[109]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(te,{htmlFor:"is_home",className:"text-xs",children:"Home"}),e[109]=De):De=e[109];let U;e[110]!==M?(U=t.jsxs("div",{className:"flex items-center gap-2",children:[M,De]}),e[110]=M,e[111]=U):U=e[111];let $;e[112]!==z||e[113]!==U?($=t.jsxs("div",{className:"flex flex-col justify-end gap-3 pb-2",children:[z,U]}),e[112]=z,e[113]=U,e[114]=$):$=e[114];let q;e[115]!==L||e[116]!==$?(q=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[L,$]}),e[115]=L,e[116]=$,e[117]=q):q=e[117];let Ne;e[118]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(ee,{type:"button",variant:"ghost",onClick:()=>se(!1),children:"Cancel"}),e[118]=Ne):Ne=e[118];const Ke=c?"Update":"Save";let G;e[119]!==Me||e[120]!==Ke?(G=t.jsxs(_t,{children:[Ne,t.jsx(ee,{type:"submit",disabled:Me,children:Ke})]}),e[119]=Me,e[120]=Ke,e[121]=G):G=e[121];let J;e[122]!==Ue||e[123]!==O||e[124]!==I||e[125]!==q||e[126]!==G?(J=t.jsxs("form",{onSubmit:Ue,className:"grid gap-4 py-4",children:[O,I,q,G]}),e[122]=Ue,e[123]=O,e[124]=I,e[125]=q,e[126]=G,e[127]=J):J=e[127];let K;e[128]!==k||e[129]!==J?(K=t.jsxs(jt,{children:[k,J]}),e[128]=k,e[129]=J,e[130]=K):K=e[130];let Q;e[131]!==Ee||e[132]!==K?(Q=t.jsx(bt,{open:Ee,onOpenChange:be,children:K}),e[131]=Ee,e[132]=K,e[133]=Q):Q=e[133];let Ae;e[134]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(nt,{children:"Delete Category?"}),e[134]=Ae):Ae=e[134];const Qe=Z?.name;let V;e[135]!==Qe?(V=t.jsxs(ct,{children:[Ae,t.jsxs(mt,{children:["Are you sure? This will permanently delete ",t.jsx("strong",{children:Qe}),"."]})]}),e[135]=Qe,e[136]=V):V=e[136];let ke;e[137]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(dt,{onClick:()=>Le(null),children:"Cancel"}),e[137]=ke):ke=e[137];let W;e[138]!==$e?(W=t.jsxs(ft,{children:[ke,t.jsx(ht,{onClick:$e,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]}),e[138]=$e,e[139]=W):W=e[139];let X;e[140]!==V||e[141]!==W?(X=t.jsxs(pt,{children:[V,W]}),e[140]=V,e[141]=W,e[142]=X):X=e[142];let Y;e[143]!==Ie||e[144]!==X?(Y=t.jsx(xt,{open:Ie,onOpenChange:He,children:X}),e[143]=Ie,e[144]=X,e[145]=Y):Y=e[145];let we;return e[146]!==x||e[147]!==g||e[148]!==A||e[149]!==Q||e[150]!==Y||e[151]!==h?(we=t.jsxs(St,{breadcrumbs:Tt,children:[fe,t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-4",children:[h,x,g,A,Q,Y]})]}),e[146]=x,e[147]=g,e[148]=A,e[149]=Q,e[150]=Y,e[151]=h,e[152]=we):we=e[152],we}function Ft(Oe,e){We.get(Fe.categories.index().url,{search:Oe,field:e[0]?.id,direction:e[0]?.desc?"desc":"asc"},{preserveState:!0,replace:!0})}export{us as default};
