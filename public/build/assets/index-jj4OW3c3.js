import{c as F,r as N,j as t,L as M,a as H,H as $}from"./app-Bk0p4fLC.js";import{S as q,A as z,a as G,b as J,c as K,d as Q,e as U,f as V,g as W}from"./alert-dialog-BUUs1mLj.js";import{B as X}from"./button-BmtzS8-p.js";import{I as Y}from"./input-DB5b13db.js";import{A as Z}from"./app-layout-C5KB0Va-.js";import{d as I}from"./index-CjBD6dYK.js";import{columns as ee}from"./columns-CUjaNBSo.js";import{DataTable as te}from"./data-table-pW7nBm_V.js";import{P as se}from"./plus-DVED2VEz.js";/* empty css            */import"./createLucideIcon-Bb78ehm2.js";import"./index-pCr455uF.js";import"./dropdown-menu-CyeQOT4T.js";import"./index-D0zTu_qL.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-D87pMpWQ.js";import"./ellipsis-B1N5RaxT.js";import"./eye-FpnUkXIM.js";import"./trash-2-NNDEGNDn.js";import"./table-D8GuRzvm.js";import"./index-Bz6Ct_EA.js";const le=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/dashboard/posts"}];function Ne(L){const e=F.c(35),{posts:C,filters:f}=L,[P,T]=N.useState(!1),[n,k]=N.useState(null),[s,O]=N.useState(f.search||"");let h;e[0]!==f.search||e[1]!==s?(h=()=>{const m=setTimeout(()=>{s!==(f.search||"")&&H.get(I.posts.index().url,{search:s},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(m)},e[0]=f.search,e[1]=s,e[2]=h):h=e[2];let p;e[3]!==s?(p=[s],e[3]=s,e[4]=p):p=e[4],N.useEffect(h,p);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=m=>{k(m),T(!0)},e[5]=d):d=e[5];const B=d;let u;e[6]!==n?(u=()=>{n&&H.delete(I.posts.destroy(n.id).url,{onSuccess:()=>{T(!1),k(null)}})},e[6]=n,e[7]=u):u=e[7];const w=u;let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=ee(B),e[8]=x):x=e[8];const R=x;let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx($,{title:"Posts"}),e[9]=b):b=e[9];let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Posts"}),e[10]=j):j=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=I.posts.create(),e[11]=g):g=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs("div",{className:"flex items-center justify-between",children:[j,t.jsx(X,{asChild:!0,children:t.jsxs(M,{href:g.url,children:[t.jsx(se,{className:"mr-2 h-4 w-4"})," Add Post"]})})]}),e[12]=_):_=e[12];let S;e[13]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(q,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[13]=S):S=e[13];let D;e[14]===Symbol.for("react.memo_cache_sentinel")?(D=m=>O(m.target.value),e[14]=D):D=e[14];let l;e[15]!==s?(l=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[S,t.jsx(Y,{type:"search",placeholder:"Search posts...",className:"pl-8",value:s,onChange:D})]})}),e[15]=s,e[16]=l):l=e[16];let o;e[17]!==C?(o=t.jsx(te,{columns:R,data:C}),e[17]=C,e[18]=o):o=e[18];let y;e[19]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(z,{children:"Are you absolutely sure?"}),e[19]=y):y=e[19];const E=n?.title;let r;e[20]!==E?(r=t.jsxs(G,{children:[y,t.jsxs(J,{children:["This action cannot be undone. This will permanently delete the post"," ",t.jsx("strong",{children:E}),"."]})]}),e[20]=E,e[21]=r):r=e[21];let A;e[22]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(K,{children:"Cancel"}),e[22]=A):A=e[22];let a;e[23]!==w?(a=t.jsxs(Q,{children:[A,t.jsx(U,{onClick:w,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[23]=w,e[24]=a):a=e[24];let i;e[25]!==r||e[26]!==a?(i=t.jsxs(V,{children:[r,a]}),e[25]=r,e[26]=a,e[27]=i):i=e[27];let c;e[28]!==P||e[29]!==i?(c=t.jsx(W,{open:P,onOpenChange:T,children:i}),e[28]=P,e[29]=i,e[30]=c):c=e[30];let v;return e[31]!==l||e[32]!==o||e[33]!==c?(v=t.jsxs(Z,{breadcrumbs:le,children:[b,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[_,l,o,c]})]}),e[31]=l,e[32]=o,e[33]=c,e[34]=v):v=e[34],v}export{Ne as default};
