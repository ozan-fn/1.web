import{c as le,u as re,r as D,j as t,L as ie,b as U,H as oe}from"./app-CWp7Z7RT.js";import{A as ae,a as ce,b as ne}from"./alert-Cns_Tr15.js";import{A as me,a as fe,b as de,c as pe,d as he,e as ue,f as xe,g as ge}from"./alert-dialog-BOUJ9bmV.js";import{B as Y}from"./button-Wz77MNWg.js";import{I as _e}from"./input-ChkU6vjq.js";import{C as je,A as be}from"./app-layout-C9HTg18_.js";import{d as Z}from"./index-DGdR22o3.js";import{columns as Se}from"./columns-BA6HoyW5.js";import{DataTable as ye}from"./data-table-BdlfFuSB.js";import{C as ve}from"./circle-check-Bq8pgbUM.js";import{P as De}from"./plus-BJ8wkRsn.js";import{S as Ae}from"./search-1WAtZo1g.js";import{C as Ce}from"./chevron-left-IFXnlwP3.js";/* empty css            */import"./utils-D0Zg16Wk.js";import"./index-mLEHQ5_T.js";import"./index-Vc4-9yFs.js";import"./sheet-Dr2jbMtp.js";import"./Combination-BXnsr7pi.js";import"./index-CKjXMzm3.js";import"./index-CJx805Xc.js";import"./x-ewj_eKfZ.js";import"./createLucideIcon-Bzb39JQ5.js";import"./index-D_DwhobQ.js";import"./index-DPyrgJzW.js";import"./index-CKu5hpuj.js";import"./dropdown-menu-Dez0nLgp.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-C__79KbC.js";import"./image-B1lFcuqM.js";import"./eye-DvLUGRh1.js";import"./trash-2-sutZXlTm.js";import"./index-1nma0nTP.js";const Ne=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/dashboard/posts"}];function nt($){const e=le.c(71),{posts:s,filters:r}=$,{flash:A}=re().props,[q,G]=D.useState(!1),[v,J]=D.useState(null),[l,te]=D.useState(r.search||"");let C;e[0]!==r.direction||e[1]!==r.field?(C=r.field?[{id:r.field,desc:r.direction==="desc"}]:[],e[0]=r.direction,e[1]=r.field,e[2]=C):C=e[2];const[i,se]=D.useState(C),K=we;let N;e[3]!==r.search||e[4]!==l||e[5]!==i?(N=()=>{const o=setTimeout(()=>{l!==(r.search||"")&&K(l,i)},300);return()=>clearTimeout(o)},e[3]=r.search,e[4]=l,e[5]=i,e[6]=N):N=e[6];let w;e[7]!==l?(w=[l,K],e[7]=l,e[8]=w):w=e[8],D.useEffect(N,w);let P;e[9]!==v?(P=()=>{v&&U.delete(Z.posts.destroy(v.id).url,{onSuccess:()=>{G(!1),J(null)}})},e[9]=v,e[10]=P):P=e[10];const Q=P;let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(oe,{title:"Posts"}),e[11]=k):k=e[11];let a;e[12]!==A.success?(a=A.success&&t.jsxs(ae,{className:"border-green-500/50 bg-green-50 text-green-700",children:[t.jsx(ve,{className:"h-4 w-4"}),t.jsx(ce,{children:"Success"}),t.jsx(ne,{children:A.success})]}),e[12]=A.success,e[13]=a):a=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("h2",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100",children:"Manage Posts"}),e[14]=T):T=e[14];let z;e[15]===Symbol.for("react.memo_cache_sentinel")?(z=Z.posts.create(),e[15]=z):z=e[15];let L;e[16]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs("div",{className:"flex items-center justify-between",children:[T,t.jsx(Y,{asChild:!0,children:t.jsxs(ie,{href:z.url,children:[t.jsx(De,{className:"mr-2 h-4 w-4"})," Add Post"]})})]}),e[16]=L):L=e[16];let E;e[17]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(Ae,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[17]=E):E=e[17];let I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=o=>te(o.target.value),e[18]=I):I=e[18];let c;e[19]!==l?(c=t.jsxs("div",{className:"relative max-w-sm",children:[E,t.jsx(_e,{type:"search",placeholder:"Search title or excerpt...",className:"bg-white pl-8 dark:bg-zinc-950",value:l,onChange:I})]}),e[19]=l,e[20]=c):c=e[20];let R;e[21]===Symbol.for("react.memo_cache_sentinel")?(R=Se(o=>{J(o),G(!0)}),e[21]=R):R=e[21];let n;e[22]!==l||e[23]!==i?(n=o=>{const ee=typeof o=="function"?o(i):o;se(ee),K(l,ee)},e[22]=l,e[23]=i,e[24]=n):n=e[24];let m;e[25]!==s.data||e[26]!==i||e[27]!==n?(m=t.jsx(ye,{columns:R,data:s.data,sorting:i,onSortingChange:n}),e[25]=s.data,e[26]=i,e[27]=n,e[28]=m):m=e[28];let f;e[29]!==s.from||e[30]!==s.to||e[31]!==s.total?(f=t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from," to ",s.to," of ",s.total," posts"]}),e[29]=s.from,e[30]=s.to,e[31]=s.total,e[32]=f):f=e[32];let d;e[33]!==s.prev_page_url?(d=()=>U.get(s.prev_page_url),e[33]=s.prev_page_url,e[34]=d):d=e[34];const V=!s.prev_page_url;let H;e[35]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(Ce,{className:"mr-1 h-4 w-4"}),e[35]=H):H=e[35];let p;e[36]!==d||e[37]!==V?(p=t.jsxs(Y,{variant:"outline",size:"sm",onClick:d,disabled:V,children:[H," Previous"]}),e[36]=d,e[37]=V,e[38]=p):p=e[38];let h;e[39]!==s.next_page_url?(h=()=>U.get(s.next_page_url),e[39]=s.next_page_url,e[40]=h):h=e[40];const W=!s.next_page_url;let O;e[41]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(je,{className:"ml-1 h-4 w-4"}),e[41]=O):O=e[41];let u;e[42]!==h||e[43]!==W?(u=t.jsxs(Y,{variant:"outline",size:"sm",onClick:h,disabled:W,children:["Next ",O]}),e[42]=h,e[43]=W,e[44]=u):u=e[44];let x;e[45]!==p||e[46]!==u?(x=t.jsxs("div",{className:"flex items-center gap-2",children:[p,u]}),e[45]=p,e[46]=u,e[47]=x):x=e[47];let g;e[48]!==f||e[49]!==x?(g=t.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[f,x]}),e[48]=f,e[49]=x,e[50]=g):g=e[50];let _;e[51]!==m||e[52]!==g?(_=t.jsxs("div",{className:"space-y-4",children:[m,g]}),e[51]=m,e[52]=g,e[53]=_):_=e[53];let B;e[54]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(me,{children:"Delete Post?"}),e[54]=B):B=e[54];const X=v?.title||"this post";let j;e[55]!==X?(j=t.jsxs(fe,{children:[B,t.jsxs(de,{children:["Are you sure? This will permanently delete ",t.jsx("strong",{children:X})," and all its associated images."]})]}),e[55]=X,e[56]=j):j=e[56];let F;e[57]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(pe,{onClick:()=>J(null),children:"Cancel"}),e[57]=F):F=e[57];let b;e[58]!==Q?(b=t.jsxs(he,{children:[F,t.jsx(ue,{onClick:Q,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]}),e[58]=Q,e[59]=b):b=e[59];let S;e[60]!==j||e[61]!==b?(S=t.jsxs(xe,{children:[j,b]}),e[60]=j,e[61]=b,e[62]=S):S=e[62];let y;e[63]!==q||e[64]!==S?(y=t.jsx(ge,{open:q,onOpenChange:G,children:S}),e[63]=q,e[64]=S,e[65]=y):y=e[65];let M;return e[66]!==c||e[67]!==_||e[68]!==y||e[69]!==a?(M=t.jsxs(be,{breadcrumbs:Ne,children:[k,t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-4 sm:p-6",children:[a,L,c,_,y]})]}),e[66]=c,e[67]=_,e[68]=y,e[69]=a,e[70]=M):M=e[70],M}function we($,e){U.get(Z.posts.index().url,{search:$,field:e[0]?.id,direction:e[0]?.desc?"desc":"asc"},{preserveState:!0,replace:!0})}export{nt as default};
