import{c as qe,r as m,u as ze,j as t,a as Pe,H as Ge}from"./app-1a0bI_7p.js";import{P as Je,S as Ke,A as Qe,a as Ve,b as We,c as Xe,d as Ye,e as Ze,f as et,g as tt}from"./alert-dialog-snQ_b7mA.js";import{B as Be}from"./button-BKHhlMeO.js";import{D as st,a as lt,b as it,c as rt,d as at,e as ot}from"./dialog-YZA1gvhX.js";import{I as ke}from"./input-dV03EG_-.js";import{L as K}from"./label-DydCSjbF.js";import{a as nt,b as ct,c as dt,S as mt,d as ft}from"./select-D2XVCUHP.js";import{S as ht}from"./switch-D44eGCiW.js";import{T as gt}from"./textarea-CZSE5ULS.js";import{A as pt}from"./app-layout-D_fSYAqa.js";import{d as Q}from"./index-DGdR22o3.js";import{columns as ut}from"./columns-BuhAs5aU.js";import{DataTable as xt}from"./data-table-1OpYUo5P.js";/* empty css            */import"./createLucideIcon-De3FQ7uz.js";import"./index-BnyV_yvM.js";import"./index-BRUycdm2.js";import"./dropdown-menu-CI5yz9ai.js";import"./index-KxT5T00w.js";import"./check-aGSAVyBO.js";import"./index-Bhpqllgs.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-DaBvW7ta.js";import"./trash-2-DtSoCzEE.js";import"./index-C2VaOoVZ.js";const jt=[{title:"Dashboard",href:"/dashboard"},{title:"Sub Categories",href:"/dashboard/sub-categories"}];function Gt(G){const e=qe.c(130),{subCategories:xe,categories:je,filters:o}=G,[Se,be]=m.useState(!1),[_e,ye]=m.useState(!1),[f,He]=m.useState(null),[J,Le]=m.useState(null),[r,Me]=m.useState(o.search||"");let V;e[0]!==o.direction||e[1]!==o.field?(V=o.field?[{id:o.field,desc:o.direction==="desc"}]:[],e[0]=o.direction,e[1]=o.field,e[2]=V):V=e[2];const[n,Re]=m.useState(V);let W;e[3]!==o.search||e[4]!==r||e[5]!==n?(W=()=>{const s=setTimeout(()=>{r!==(o.search||"")&&Pe.get(Q.subCategories.index().url,{search:r,field:n[0]?.id,direction:n[0]?n[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[3]=o.search,e[4]=r,e[5]=n,e[6]=W):W=e[6];let X;e[7]!==r?(X=[r],e[7]=r,e[8]=X):X=e[8],m.useEffect(W,X);let Y;e[9]!==r||e[10]!==n?(Y=s=>{const a=typeof s=="function"?s(n):s;Re(a),Pe.get(Q.subCategories.index().url,{search:r,field:a[0]?.id,direction:a[0]?a[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[9]=r,e[10]=n,e[11]=Y):Y=e[11];const ve=Y;let Z;e[12]===Symbol.for("react.memo_cache_sentinel")?(Z={category_id:"",name:"",description:"",order:0,is_nav:!0},e[12]=Z):Z=e[12];const{data:i,setData:l,post:Ce,patch:De,delete:Ne,processing:Ae,reset:Te,errors:c}=ze(Z);let d,h,g;if(e[13]!==f||e[14]!==De||e[15]!==Ce||e[16]!==Te||e[17]!==l){h=a=>{a.preventDefault(),f?De(Q.subCategories.update(f.id).url,{onSuccess:()=>d()}):Ce(Q.subCategories.store().url,{onSuccess:()=>d()})};let s;e[21]!==l?(s=a=>{He(a),l({category_id:a.category_id.toString(),name:a.name,description:a.description||"",order:a.order,is_nav:a.is_nav}),be(!0)},e[21]=l,e[22]=s):s=e[22],g=s,d=()=>{be(!1),He(null),Te()},e[13]=f,e[14]=De,e[15]=Ce,e[16]=Te,e[17]=l,e[18]=d,e[19]=h,e[20]=g}else d=e[18],h=e[19],g=e[20];let ee;e[23]===Symbol.for("react.memo_cache_sentinel")?(ee=s=>{Le(s),ye(!0)},e[23]=ee):ee=e[23];const Ue=ee;let te;e[24]!==Ne||e[25]!==J?(te=()=>{J&&Ne(Q.subCategories.destroy(J.id).url,{onSuccess:()=>{ye(!1),Le(null)}})},e[24]=Ne,e[25]=J,e[26]=te):te=e[26];const we=te;let se;e[27]!==g?(se=ut(g,Ue),e[27]=g,e[28]=se):se=e[28];const Fe=se;let le;e[29]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ge,{title:"Sub Categories"}),e[29]=le):le=e[29];let ie;e[30]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Sub Categories"}),e[30]=ie):ie=e[30];let p;e[31]!==d?(p=s=>!s&&d(),e[31]=d,e[32]=p):p=e[32];let re;e[33]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(st,{asChild:!0,children:t.jsxs(Be,{onClick:()=>be(!0),children:[t.jsx(Je,{className:"mr-2 h-4 w-4"})," Add Sub Category"]})}),e[33]=re):re=e[33];const Ie=f?"Edit":"Create";let u;e[34]!==Ie?(u=t.jsx(lt,{children:t.jsxs(it,{children:[Ie," Sub Category"]})}),e[34]=Ie,e[35]=u):u=e[35];let ae;e[36]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(K,{htmlFor:"category_id",children:"Parent Category"}),e[36]=ae):ae=e[36];const $e=i.category_id;let x;e[37]!==l?(x=s=>l("category_id",s),e[37]=l,e[38]=x):x=e[38];let oe;e[39]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(nt,{children:t.jsx(ct,{placeholder:"Select a category"})}),e[39]=oe):oe=e[39];let j;e[40]!==je?(j=je.map(St),e[40]=je,e[41]=j):j=e[41];let S;e[42]!==j?(S=t.jsx(dt,{children:j}),e[42]=j,e[43]=S):S=e[43];let b;e[44]!==i.category_id||e[45]!==x||e[46]!==S?(b=t.jsxs(mt,{value:$e,onValueChange:x,children:[oe,S]}),e[44]=i.category_id,e[45]=x,e[46]=S,e[47]=b):b=e[47];let _;e[48]!==c.category_id?(_=c.category_id&&t.jsx("p",{className:"text-sm text-red-500",children:c.category_id}),e[48]=c.category_id,e[49]=_):_=e[49];let y;e[50]!==b||e[51]!==_?(y=t.jsxs("div",{className:"grid gap-2",children:[ae,b,_]}),e[50]=b,e[51]=_,e[52]=y):y=e[52];let ne;e[53]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(K,{htmlFor:"name",children:"Name"}),e[53]=ne):ne=e[53];let v;e[54]!==l?(v=s=>l("name",s.target.value),e[54]=l,e[55]=v):v=e[55];let C;e[56]!==i.name||e[57]!==v?(C=t.jsx(ke,{id:"name",value:i.name,onChange:v}),e[56]=i.name,e[57]=v,e[58]=C):C=e[58];let D;e[59]!==c.name?(D=c.name&&t.jsx("p",{className:"text-sm text-red-500",children:c.name}),e[59]=c.name,e[60]=D):D=e[60];let N;e[61]!==C||e[62]!==D?(N=t.jsxs("div",{className:"grid gap-2",children:[ne,C,D]}),e[61]=C,e[62]=D,e[63]=N):N=e[63];let ce;e[64]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(K,{htmlFor:"description",children:"Description (Optional)"}),e[64]=ce):ce=e[64];let A;e[65]!==l?(A=s=>l("description",s.target.value),e[65]=l,e[66]=A):A=e[66];let T;e[67]!==i.description||e[68]!==A?(T=t.jsxs("div",{className:"grid gap-2",children:[ce,t.jsx(gt,{id:"description",value:i.description,onChange:A})]}),e[67]=i.description,e[68]=A,e[69]=T):T=e[69];let de;e[70]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(K,{htmlFor:"order",children:"Display Order"}),e[70]=de):de=e[70];let w;e[71]!==l?(w=s=>l("order",parseInt(s.target.value)||0),e[71]=l,e[72]=w):w=e[72];let F;e[73]!==i.order||e[74]!==w?(F=t.jsxs("div",{className:"grid gap-2",children:[de,t.jsx(ke,{id:"order",type:"number",value:i.order,onChange:w})]}),e[73]=i.order,e[74]=w,e[75]=F):F=e[75];let I;e[76]!==l?(I=s=>l("is_nav",s),e[76]=l,e[77]=I):I=e[77];let E;e[78]!==i.is_nav||e[79]!==I?(E=t.jsx(ht,{id:"is_nav",checked:i.is_nav,onCheckedChange:I}),e[78]=i.is_nav,e[79]=I,e[80]=E):E=e[80];let me;e[81]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(K,{htmlFor:"is_nav",children:"In Navbar"}),e[81]=me):me=e[81];let O;e[82]!==E?(O=t.jsx("div",{className:"flex flex-col justify-end gap-2 pb-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[E,me]})}),e[82]=E,e[83]=O):O=e[83];let k;e[84]!==F||e[85]!==O?(k=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F,O]}),e[84]=F,e[85]=O,e[86]=k):k=e[86];const Ee=f?"Update":"Save";let H;e[87]!==Ae||e[88]!==Ee?(H=t.jsx(rt,{children:t.jsxs(Be,{type:"submit",disabled:Ae,children:[Ee," Sub Category"]})}),e[87]=Ae,e[88]=Ee,e[89]=H):H=e[89];let L;e[90]!==h||e[91]!==y||e[92]!==N||e[93]!==T||e[94]!==k||e[95]!==H?(L=t.jsxs("form",{onSubmit:h,className:"grid gap-4 py-4",children:[y,N,T,k,H]}),e[90]=h,e[91]=y,e[92]=N,e[93]=T,e[94]=k,e[95]=H,e[96]=L):L=e[96];let P;e[97]!==u||e[98]!==L?(P=t.jsxs(at,{className:"sm:max-w-[425px]",children:[u,L]}),e[97]=u,e[98]=L,e[99]=P):P=e[99];let B;e[100]!==Se||e[101]!==p||e[102]!==P?(B=t.jsxs("div",{className:"flex items-center justify-between",children:[ie,t.jsxs(ot,{open:Se,onOpenChange:p,children:[re,P]})]}),e[100]=Se,e[101]=p,e[102]=P,e[103]=B):B=e[103];let fe;e[104]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Ke,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[104]=fe):fe=e[104];let he;e[105]===Symbol.for("react.memo_cache_sentinel")?(he=s=>Me(s.target.value),e[105]=he):he=e[105];let M;e[106]!==r?(M=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[fe,t.jsx(ke,{type:"search",placeholder:"Search sub categories...",className:"pl-8",value:r,onChange:he})]})}),e[106]=r,e[107]=M):M=e[107];let R;e[108]!==ve||e[109]!==n||e[110]!==xe||e[111]!==Fe?(R=t.jsx(xt,{columns:Fe,data:xe,sorting:n,onSortingChange:ve}),e[108]=ve,e[109]=n,e[110]=xe,e[111]=Fe,e[112]=R):R=e[112];let ge;e[113]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Qe,{children:"Are you absolutely sure?"}),e[113]=ge):ge=e[113];const Oe=J?.name;let U;e[114]!==Oe?(U=t.jsxs(Ve,{children:[ge,t.jsxs(We,{children:["This action cannot be undone. This will permanently delete the sub category"," ",t.jsx("strong",{children:Oe}),"."]})]}),e[114]=Oe,e[115]=U):U=e[115];let pe;e[116]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(Xe,{children:"Cancel"}),e[116]=pe):pe=e[116];let $;e[117]!==we?($=t.jsxs(Ye,{children:[pe,t.jsx(Ze,{onClick:we,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[117]=we,e[118]=$):$=e[118];let q;e[119]!==U||e[120]!==$?(q=t.jsxs(et,{children:[U,$]}),e[119]=U,e[120]=$,e[121]=q):q=e[121];let z;e[122]!==_e||e[123]!==q?(z=t.jsx(tt,{open:_e,onOpenChange:ye,children:q}),e[122]=_e,e[123]=q,e[124]=z):z=e[124];let ue;return e[125]!==B||e[126]!==M||e[127]!==R||e[128]!==z?(ue=t.jsxs(pt,{breadcrumbs:jt,children:[le,t.jsxs("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[B,M,R,z]})]}),e[125]=B,e[126]=M,e[127]=R,e[128]=z,e[129]=ue):ue=e[129],ue}function St(G){return t.jsx(ft,{value:G.id.toString(),children:G.name},G.id)}export{Gt as default};
