import{c as Me,r as f,u as Re,a as qe,j as s,b as ke,H as ze}from"./app-DSFXfF52.js";import{P as Ge,S as Je,A as Ke,a as Qe,b as We,c as Xe,d as Ye,e as Ze,f as Ve,g as es}from"./alert-dialog-D_skCVqk.js";import{B as Fe}from"./button-BpIb5EdY.js";import{b as ss,f as ts,a as ls,c as as,d as rs,e as is}from"./dialog-oJ1Fy3Mx.js";import{I as he}from"./input-BDSKdxE6.js";import{L as Te}from"./label-d3h4UFki.js";import{A as os}from"./app-layout-D933pNtL.js";import{A as Ie,a as He,b as Le,C as ns}from"./alert-CPfrlgkO.js";import{columns as cs}from"./columns-xwQSbDD5.js";import{DataTable as ds}from"./data-table-p7bdQ_dq.js";import{C as ms}from"./circle-check-ZmcexSAv.js";/* empty css            */import"./createLucideIcon-BOMyxqx3.js";import"./index-DxdomAUA.js";import"./index-e5DzauLD.js";import"./dropdown-menu-BcN_ru-f.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-CoVmjKJI.js";import"./trash-2-D90NJxTC.js";import"./index-BrH3tsp2.js";const fs=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/dashboard/users"}];function Is(Oe){const e=Me.c(123),{users:pe,filters:i}=Oe,[ue,K]=f.useState(!1),[d,xe]=f.useState(null),[ge,je]=f.useState(!1),[G,Ue]=f.useState(null),[a,Pe]=f.useState(i.search||""),{flash:c}=Re().props;let Q;e[0]!==i.direction||e[1]!==i.field?(Q=i.field?[{id:i.field,desc:i.direction==="desc"}]:[],e[0]=i.direction,e[1]=i.field,e[2]=Q):Q=e[2];const[o,$e]=f.useState(Q);let W;e[3]===Symbol.for("react.memo_cache_sentinel")?(W={name:"",email:"",password:""},e[3]=W):W=e[3];const{data:n,setData:l,post:be,patch:Se,delete:De,processing:ve,reset:h,errors:r}=qe(W);let X;e[4]!==a||e[5]!==o?(X=t=>{const m=typeof t=="function"?t(o):t;$e(m),ke.get("/dashboard/users",{search:a,field:m[0]?.id,direction:m[0]?m[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[4]=a,e[5]=o,e[6]=X):X=e[6];const we=X;let Y;e[7]!==i.search||e[8]!==a||e[9]!==o?(Y=()=>{const t=setTimeout(()=>{a!==(i.search||"")&&ke.get("/dashboard/users",{search:a,field:o[0]?.id,direction:o[0]?o[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(t)},e[7]=i.search,e[8]=a,e[9]=o,e[10]=Y):Y=e[10];let Z;e[11]!==a?(Z=[a],e[11]=a,e[12]=Z):Z=e[12],f.useEffect(Y,Z);let p,u;if(e[13]!==d||e[14]!==Se||e[15]!==be||e[16]!==h||e[17]!==l){p=J=>{J.preventDefault(),d?Se(`/dashboard/users/${d.id}`,{onSuccess:()=>m()}):be("/dashboard/users",{onSuccess:()=>m()})};let t;e[20]!==l?(t=J=>{xe(J),l({name:J.name,email:J.email,password:""}),K(!0)},e[20]=l,e[21]=t):t=e[21],u=t;const m=()=>{K(!1),xe(null),h()};e[13]=d,e[14]=Se,e[15]=be,e[16]=h,e[17]=l,e[18]=p,e[19]=u}else p=e[18],u=e[19];let V;e[22]===Symbol.for("react.memo_cache_sentinel")?(V=t=>{Ue(t),je(!0)},e[22]=V):V=e[22];const Be=V;let ee;e[23]!==De||e[24]!==G?(ee=()=>{G&&De(`/dashboard/users/${G.id}`,{onSuccess:()=>{je(!1),Ue(null)}})},e[23]=De,e[24]=G,e[25]=ee):ee=e[25];const ye=ee;let se;e[26]!==u?(se=cs(u,Be),e[26]=u,e[27]=se):se=e[27];const _e=se;let te;e[28]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(ze,{title:"Users"}),e[28]=te):te=e[28];let x;e[29]!==c.success?(x=c.success&&s.jsxs(Ie,{variant:"default",className:"border-green-500/50 bg-green-50 text-green-700 dark:bg-green-950/20 dark:text-green-400",children:[s.jsx(ms,{className:"h-4 w-4"}),s.jsx(He,{children:"Success"}),s.jsx(Le,{children:c.success})]}),e[29]=c.success,e[30]=x):x=e[30];let g;e[31]!==c.error?(g=c.error&&s.jsxs(Ie,{variant:"destructive",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx(He,{children:"Error"}),s.jsx(Le,{children:c.error})]}),e[31]=c.error,e[32]=g):g=e[32];let le;e[33]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Users"}),e[33]=le):le=e[33];let j;e[34]!==h?(j=()=>{xe(null),h(),K(!0)},e[34]=h,e[35]=j):j=e[35];let ae;e[36]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(Ge,{className:"mr-2 h-4 w-4"}),e[36]=ae):ae=e[36];let b;e[37]!==j?(b=s.jsxs(Fe,{onClick:j,children:[ae," Add User"]}),e[37]=j,e[38]=b):b=e[38];const Ne=d?"Edit User":"Add New User";let S;e[39]!==Ne?(S=s.jsx(ss,{children:Ne}),e[39]=Ne,e[40]=S):S=e[40];let re;e[41]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(ts,{children:"Fill in the user details below."}),e[41]=re):re=e[41];let D;e[42]!==S?(D=s.jsxs(ls,{children:[S,re]}),e[42]=S,e[43]=D):D=e[43];let ie;e[44]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(Te,{htmlFor:"name",children:"Full Name"}),e[44]=ie):ie=e[44];let v;e[45]!==l?(v=t=>l("name",t.target.value),e[45]=l,e[46]=v):v=e[46];let w;e[47]!==n.name||e[48]!==v?(w=s.jsx(he,{id:"name",value:n.name,onChange:v,placeholder:"Enter name"}),e[47]=n.name,e[48]=v,e[49]=w):w=e[49];let y;e[50]!==r.name?(y=r.name&&s.jsx("p",{className:"text-xs text-red-500",children:r.name}),e[50]=r.name,e[51]=y):y=e[51];let _;e[52]!==w||e[53]!==y?(_=s.jsxs("div",{className:"space-y-2",children:[ie,w,y]}),e[52]=w,e[53]=y,e[54]=_):_=e[54];let oe;e[55]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(Te,{htmlFor:"email",children:"Email"}),e[55]=oe):oe=e[55];let N;e[56]!==l?(N=t=>l("email",t.target.value),e[56]=l,e[57]=N):N=e[57];let A;e[58]!==n.email||e[59]!==N?(A=s.jsx(he,{id:"email",type:"email",value:n.email,onChange:N,placeholder:"Enter email"}),e[58]=n.email,e[59]=N,e[60]=A):A=e[60];let C;e[61]!==r.email?(C=r.email&&s.jsx("p",{className:"text-xs text-red-500",children:r.email}),e[61]=r.email,e[62]=C):C=e[62];let E;e[63]!==A||e[64]!==C?(E=s.jsxs("div",{className:"space-y-2",children:[oe,A,C]}),e[63]=A,e[64]=C,e[65]=E):E=e[65];const Ae=d&&"(Leave blank to keep current)";let T;e[66]!==Ae?(T=s.jsxs(Te,{htmlFor:"password",children:["Password"," ",Ae]}),e[66]=Ae,e[67]=T):T=e[67];let U;e[68]!==l?(U=t=>l("password",t.target.value),e[68]=l,e[69]=U):U=e[69];let k;e[70]!==n.password||e[71]!==U?(k=s.jsx(he,{id:"password",type:"password",value:n.password,onChange:U,placeholder:"Enter password"}),e[70]=n.password,e[71]=U,e[72]=k):k=e[72];let F;e[73]!==r.password?(F=r.password&&s.jsx("p",{className:"text-xs text-red-500",children:r.password}),e[73]=r.password,e[74]=F):F=e[74];let I;e[75]!==T||e[76]!==k||e[77]!==F?(I=s.jsxs("div",{className:"space-y-2",children:[T,k,F]}),e[75]=T,e[76]=k,e[77]=F,e[78]=I):I=e[78];const Ce=d?"Update":"Save";let H;e[79]!==ve||e[80]!==Ce?(H=s.jsx(as,{children:s.jsxs(Fe,{type:"submit",disabled:ve,children:[Ce," User"]})}),e[79]=ve,e[80]=Ce,e[81]=H):H=e[81];let L;e[82]!==p||e[83]!==_||e[84]!==E||e[85]!==I||e[86]!==H?(L=s.jsxs("form",{onSubmit:p,className:"space-y-4 py-4",children:[_,E,I,H]}),e[82]=p,e[83]=_,e[84]=E,e[85]=I,e[86]=H,e[87]=L):L=e[87];let O;e[88]!==D||e[89]!==L?(O=s.jsxs(rs,{children:[D,L]}),e[88]=D,e[89]=L,e[90]=O):O=e[90];let P;e[91]!==ue||e[92]!==b||e[93]!==O?(P=s.jsxs("div",{className:"flex items-center justify-between",children:[le,s.jsxs(is,{open:ue,onOpenChange:K,children:[b,O]})]}),e[91]=ue,e[92]=b,e[93]=O,e[94]=P):P=e[94];let ne;e[95]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(Je,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[95]=ne):ne=e[95];let ce;e[96]===Symbol.for("react.memo_cache_sentinel")?(ce=t=>Pe(t.target.value),e[96]=ce):ce=e[96];let $;e[97]!==a?($=s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative w-full max-w-sm",children:[ne,s.jsx(he,{type:"search",placeholder:"Search users...",className:"pl-8",value:a,onChange:ce})]})}),e[97]=a,e[98]=$):$=e[98];let B;e[99]!==we||e[100]!==o||e[101]!==_e||e[102]!==pe?(B=s.jsx(ds,{columns:_e,data:pe,sorting:o,onSortingChange:we}),e[99]=we,e[100]=o,e[101]=_e,e[102]=pe,e[103]=B):B=e[103];let de;e[104]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(Ke,{children:"Are you absolutely sure?"}),e[104]=de):de=e[104];const Ee=G?.name;let M;e[105]!==Ee?(M=s.jsxs(Qe,{children:[de,s.jsxs(We,{children:["This action cannot be undone. This will permanently delete user"," ",s.jsx("strong",{children:Ee}),"."]})]}),e[105]=Ee,e[106]=M):M=e[106];let me;e[107]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(Xe,{children:"Cancel"}),e[107]=me):me=e[107];let R;e[108]!==ye?(R=s.jsxs(Ye,{children:[me,s.jsx(Ze,{onClick:ye,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[108]=ye,e[109]=R):R=e[109];let q;e[110]!==M||e[111]!==R?(q=s.jsxs(Ve,{children:[M,R]}),e[110]=M,e[111]=R,e[112]=q):q=e[112];let z;e[113]!==ge||e[114]!==q?(z=s.jsx(es,{open:ge,onOpenChange:je,children:q}),e[113]=ge,e[114]=q,e[115]=z):z=e[115];let fe;return e[116]!==x||e[117]!==g||e[118]!==P||e[119]!==$||e[120]!==B||e[121]!==z?(fe=s.jsxs(os,{breadcrumbs:fs,children:[te,s.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-2 sm:p-4 md:p-6",children:[x,g,P,$,B,z]})]}),e[116]=x,e[117]=g,e[118]=P,e[119]=$,e[120]=B,e[121]=z,e[122]=fe):fe=e[122],fe}export{Is as default};
