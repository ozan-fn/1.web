import{r,j as e,d as C}from"./app-CAs3FYUA.js";import{A as x,b as u}from"./alert-CbPNizC_.js";import{B as L}from"./button-ChbGwhfT.js";import{C as v,a as A,b as k,c as E,d as U}from"./card-kTSxZJUv.js";import{I as q}from"./input-BZTwSrx5.js";import{L as w}from"./label-CnlSRV7R.js";import{c as R}from"./createLucideIcon-BlGQPA8D.js";import{L as S}from"./loader-circle-DoGaVxWB.js";import{C as f}from"./circle-alert-Cajd0Ayh.js";/* empty css            */import"./utils-D0Zg16Wk.js";import"./index-DJzZURwb.js";import"./index-DLjb_Cay.js";const M=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],K=R("Link2",M);function Q({onExtractSuccess:g,isLoading:c=!1}){const[a,o]=r.useState(""),[s,m]=r.useState(!1),[d,l]=r.useState(null),[j,i]=r.useState(!1),p=async()=>{if(!a.trim()){l("Please enter a URL");return}m(!0),l(null),i(!1);try{const t=await C.get("https://test1-gl4j.vercel.app/extract",{params:{url:a},headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","accept-language":"en-US,en;q=0.9,id;q=0.8,fi;q=0.7","cache-control":"max-age=0",dnt:"1",priority:"u=0, i","sec-ch-ua":'"Not(A:Brand";v="8", "Chromium";v="144", "Microsoft Edge";v="144"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"document","sec-fetch-mode":"navigate","sec-fetch-site":"none","sec-fetch-user":"?1","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0"}}),{title:n,thumbnail:y,content:b,tags:h}=t.data;g({title:n||"",thumbnail:y||"",content:b||"",tags:Array.isArray(h)?h:[]}),i(!0),o(""),setTimeout(()=>i(!1),3e3)}catch(t){const n=t.response?.data?.message||"Failed to extract URL. Please check the URL and try again.";l(n)}finally{m(!1)}},N=t=>{t.key==="Enter"&&!s&&p()};return e.jsxs(v,{children:[e.jsxs(A,{className:"space-y-1",children:[e.jsxs(k,{className:"flex items-center gap-2 text-lg",children:[e.jsx(K,{className:"h-5 w-5"}),"Auto-fill from URL"]}),e.jsx(E,{children:"Extract article data from a URL to auto-fill the form"})]}),e.jsxs(U,{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"url-input",className:"text-sm font-medium",children:"Article URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{id:"url-input",type:"url",placeholder:"https://example.com/article",value:a,onChange:t=>o(t.target.value),onKeyPress:N,disabled:s||c,className:"flex-1"}),e.jsx(L,{onClick:p,disabled:s||c||!a.trim(),className:"px-4",children:s||c?e.jsx(S,{className:"h-4 w-4 animate-spin"}):"Extract"})]})]}),d&&e.jsxs(x,{className:"border-red-500/50 bg-red-500/5",children:[e.jsx(f,{className:"h-4 w-4 text-red-600"}),e.jsx(u,{className:"text-red-600",children:d})]}),j&&e.jsxs(x,{className:"border-green-500/50 bg-green-500/5",children:[e.jsx(f,{className:"h-4 w-4 text-green-600"}),e.jsx(u,{className:"text-green-600",children:"Article data extracted successfully! Fields have been auto-filled."})]})]})]})}export{Q as UrlExtractor};
