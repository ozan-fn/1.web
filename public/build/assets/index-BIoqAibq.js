import{c as ke,r as m,u as Fe,a as Ie,j as t,b as Se,H as Oe}from"./app-CTB2sItS.js";import{A as He,a as Le,b as Pe,c as Be,d as Me,e as Re,f as Ue,g as $e}from"./alert-dialog-BUkMNkMV.js";import{B as De}from"./button-xUSbhuCb.js";import{D as qe,a as ze,b as Ge,c as Je,d as Ke,e as Qe}from"./dialog-VU6X5-zT.js";import{I as ve}from"./input-x3-30NCg.js";import{L as _e}from"./label-BtkA_vih.js";import{T as We}from"./textarea-BgMhzeH1.js";import{A as Xe}from"./app-layout-Cs703iEf.js";import{d as L}from"./index-DGdR22o3.js";import{A as ye,a as Ce,b as Te,C as Ye}from"./alert-LwFJJ54O.js";import{columns as Ze}from"./columns-BadtoluS.js";import{DataTable as Ve}from"./data-table-CKXreC1e.js";import{C as et}from"./circle-check-CC07nFvz.js";import{P as tt}from"./plus-_3XeA6BP.js";import{S as st}from"./search-JOuv4gqg.js";/* empty css            */import"./index-BxGkpuVN.js";import"./index-D0gxOiZZ.js";import"./sheet-Bj8eZ98O.js";import"./createLucideIcon-CgSRsmC4.js";import"./Combination-DNJNFLBc.js";import"./index-DXDrmP-1.js";import"./dropdown-menu-ClFsFiP9.js";import"./index-COAM7Pl-.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-D_b2OmWx.js";import"./trash-2-wIgj39ey.js";import"./index-CPnVlNV2.js";const lt=[{title:"Dashboard",href:"/dashboard"},{title:"Tags",href:"/dashboard/tags"}];function It(Ae){const e=ke.c(100),{tags:se,filters:r}=Ae,[le,re]=m.useState(!1),[ae,ie]=m.useState(!1),[d,je]=m.useState(null),[H,be]=m.useState(null),[l,Ne]=m.useState(r.search||""),{flash:n}=Fe().props;let P;e[0]!==r.direction||e[1]!==r.field?(P=r.field?[{id:r.field,desc:r.direction==="desc"}]:[],e[0]=r.direction,e[1]=r.field,e[2]=P):P=e[2];const[a,we]=m.useState(P);let B;e[3]!==r.search||e[4]!==l||e[5]!==a?(B=()=>{const s=setTimeout(()=>{l!==(r.search||"")&&Se.get(L.tags.index().url,{search:l,field:a[0]?.id,direction:a[0]?a[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[3]=r.search,e[4]=l,e[5]=a,e[6]=B):B=e[6];let M;e[7]!==l?(M=[l],e[7]=l,e[8]=M):M=e[8],m.useEffect(B,M);let R;e[9]!==l||e[10]!==a?(R=s=>{const o=typeof s=="function"?s(a):s;we(o),Se.get(L.tags.index().url,{search:l,field:o[0]?.id,direction:o[0]?o[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[9]=l,e[10]=a,e[11]=R):R=e[11];const oe=R;let U;e[12]===Symbol.for("react.memo_cache_sentinel")?(U={name:"",description:""},e[12]=U):U=e[12];const{data:f,setData:i,post:ne,patch:ce,delete:me,processing:de,reset:fe,errors:$}=Ie(U);let c,h,p;if(e[13]!==d||e[14]!==ce||e[15]!==ne||e[16]!==fe||e[17]!==i){h=o=>{o.preventDefault(),d?ce(L.tags.update(d.id).url,{onSuccess:()=>c()}):ne(L.tags.store().url,{onSuccess:()=>c()})};let s;e[21]!==i?(s=o=>{je(o),i({name:o.name,description:o.description||""}),re(!0)},e[21]=i,e[22]=s):s=e[22],p=s,c=()=>{re(!1),je(null),fe()},e[13]=d,e[14]=ce,e[15]=ne,e[16]=fe,e[17]=i,e[18]=c,e[19]=h,e[20]=p}else c=e[18],h=e[19],p=e[20];let q;e[23]===Symbol.for("react.memo_cache_sentinel")?(q=s=>{be(s),ie(!0)},e[23]=q):q=e[23];const Ee=q;let z;e[24]!==me||e[25]!==H?(z=()=>{H&&me(L.tags.destroy(H.id).url,{onSuccess:()=>{ie(!1),be(null)}})},e[24]=me,e[25]=H,e[26]=z):z=e[26];const he=z;let G;e[27]!==p?(G=Ze(p,Ee),e[27]=p,e[28]=G):G=e[28];const pe=G;let J;e[29]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Oe,{title:"Tags"}),e[29]=J):J=e[29];let g;e[30]!==n.success?(g=n.success&&t.jsxs(ye,{variant:"default",className:"border-green-500/50 bg-green-50 text-green-700 dark:bg-green-950/20 dark:text-green-400",children:[t.jsx(et,{className:"h-4 w-4"}),t.jsx(Ce,{children:"Success"}),t.jsx(Te,{children:n.success})]}),e[30]=n.success,e[31]=g):g=e[31];let u;e[32]!==n.error?(u=n.error&&t.jsxs(ye,{variant:"destructive",children:[t.jsx(Ye,{className:"h-4 w-4"}),t.jsx(Ce,{children:"Error"}),t.jsx(Te,{children:n.error})]}),e[32]=n.error,e[33]=u):u=e[33];let K;e[34]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Tags"}),e[34]=K):K=e[34];let x;e[35]!==c?(x=s=>!s&&c(),e[35]=c,e[36]=x):x=e[36];let Q;e[37]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(qe,{asChild:!0,children:t.jsxs(De,{onClick:()=>re(!0),children:[t.jsx(tt,{className:"mr-2 h-4 w-4"})," Add Tag"]})}),e[37]=Q):Q=e[37];const ge=d?"Edit":"Create";let j;e[38]!==ge?(j=t.jsx(ze,{children:t.jsxs(Ge,{children:[ge," Tag"]})}),e[38]=ge,e[39]=j):j=e[39];let W;e[40]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(_e,{htmlFor:"name",children:"Name"}),e[40]=W):W=e[40];let b;e[41]!==i?(b=s=>i("name",s.target.value),e[41]=i,e[42]=b):b=e[42];let S;e[43]!==f.name||e[44]!==b?(S=t.jsx(ve,{id:"name",value:f.name,onChange:b}),e[43]=f.name,e[44]=b,e[45]=S):S=e[45];let D;e[46]!==$.name?(D=$.name&&t.jsx("p",{className:"text-sm text-red-500",children:$.name}),e[46]=$.name,e[47]=D):D=e[47];let v;e[48]!==S||e[49]!==D?(v=t.jsxs("div",{className:"grid gap-2",children:[W,S,D]}),e[48]=S,e[49]=D,e[50]=v):v=e[50];let X;e[51]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(_e,{htmlFor:"description",children:"Description (Optional)"}),e[51]=X):X=e[51];let _;e[52]!==i?(_=s=>i("description",s.target.value),e[52]=i,e[53]=_):_=e[53];let y;e[54]!==f.description||e[55]!==_?(y=t.jsxs("div",{className:"grid gap-2",children:[X,t.jsx(We,{id:"description",value:f.description,onChange:_})]}),e[54]=f.description,e[55]=_,e[56]=y):y=e[56];const ue=d?"Update":"Save";let C;e[57]!==de||e[58]!==ue?(C=t.jsx(Je,{children:t.jsxs(De,{type:"submit",disabled:de,children:[ue," Tag"]})}),e[57]=de,e[58]=ue,e[59]=C):C=e[59];let T;e[60]!==h||e[61]!==v||e[62]!==y||e[63]!==C?(T=t.jsxs("form",{onSubmit:h,className:"grid gap-4 py-4",children:[v,y,C]}),e[60]=h,e[61]=v,e[62]=y,e[63]=C,e[64]=T):T=e[64];let A;e[65]!==j||e[66]!==T?(A=t.jsxs(Ke,{className:"sm:max-w-[425px]",children:[j,T]}),e[65]=j,e[66]=T,e[67]=A):A=e[67];let N;e[68]!==le||e[69]!==x||e[70]!==A?(N=t.jsxs("div",{className:"flex items-center justify-between",children:[K,t.jsxs(Qe,{open:le,onOpenChange:x,children:[Q,A]})]}),e[68]=le,e[69]=x,e[70]=A,e[71]=N):N=e[71];let Y;e[72]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(st,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[72]=Y):Y=e[72];let Z;e[73]===Symbol.for("react.memo_cache_sentinel")?(Z=s=>Ne(s.target.value),e[73]=Z):Z=e[73];let w;e[74]!==l?(w=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[Y,t.jsx(ve,{type:"search",placeholder:"Search tags...",className:"pl-8",value:l,onChange:Z})]})}),e[74]=l,e[75]=w):w=e[75];let E;e[76]!==oe||e[77]!==a||e[78]!==pe||e[79]!==se?(E=t.jsx(Ve,{columns:pe,data:se,sorting:a,onSortingChange:oe}),e[76]=oe,e[77]=a,e[78]=pe,e[79]=se,e[80]=E):E=e[80];let V;e[81]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(He,{children:"Are you absolutely sure?"}),e[81]=V):V=e[81];const xe=H?.name;let k;e[82]!==xe?(k=t.jsxs(Le,{children:[V,t.jsxs(Pe,{children:["This action cannot be undone. This will permanently delete the tag"," ",t.jsx("strong",{children:xe}),"."]})]}),e[82]=xe,e[83]=k):k=e[83];let ee;e[84]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Be,{children:"Cancel"}),e[84]=ee):ee=e[84];let F;e[85]!==he?(F=t.jsxs(Me,{children:[ee,t.jsx(Re,{onClick:he,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[85]=he,e[86]=F):F=e[86];let I;e[87]!==k||e[88]!==F?(I=t.jsxs(Ue,{children:[k,F]}),e[87]=k,e[88]=F,e[89]=I):I=e[89];let O;e[90]!==ae||e[91]!==I?(O=t.jsx($e,{open:ae,onOpenChange:ie,children:I}),e[90]=ae,e[91]=I,e[92]=O):O=e[92];let te;return e[93]!==g||e[94]!==u||e[95]!==N||e[96]!==w||e[97]!==E||e[98]!==O?(te=t.jsxs(Xe,{breadcrumbs:lt,children:[J,t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-2 sm:p-4 md:p-6",children:[g,u,N,w,E,O]})]}),e[93]=g,e[94]=u,e[95]=N,e[96]=w,e[97]=E,e[98]=O,e[99]=te):te=e[99],te}export{It as default};
