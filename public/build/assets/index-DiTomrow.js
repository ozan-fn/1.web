import{c as ze,r as m,u as Ge,a as Je,j as t,b as Oe,H as Ke}from"./app-CurqJ_4M.js";import{P as Qe,S as We,A as Xe,a as Ye,b as Ze,c as Ve,d as et,e as tt,f as st,g as lt}from"./alert-dialog-DWn7JZty.js";import{B as He}from"./button-De2wU3JD.js";import{D as rt,a as it,b as at,c as ot,d as nt,e as ct}from"./dialog-BJ1_oAnb.js";import{I as Ee}from"./input-_El9oGzy.js";import{L as G}from"./label-CNwic2Oh.js";import{S as Le}from"./switch-CKBjR0Qp.js";import{T as dt}from"./textarea-B2iku_kP.js";import{A as mt}from"./app-layout-B8noGIFK.js";import{d as J}from"./index-DGdR22o3.js";import{A as Pe,a as Be,b as Me,C as ft}from"./alert-CXL7FeFq.js";import{columns as ht}from"./columns-DqWssc7J.js";import{DataTable as pt}from"./data-table-BXTRCnbM.js";import{C as xt}from"./circle-check-DPLRGZ1s.js";/* empty css            */import"./createLucideIcon-Djww9a5A.js";import"./index-CW9Xiz5R.js";import"./index-CWkBYrTU.js";import"./index---iLAgFX.js";import"./dropdown-menu-CxiBAujw.js";import"./index-DSOkqTVi.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-BFfqlwr6.js";import"./trash-2-DAk_q95e.js";import"./index-CQQuGSvj.js";const gt=[{title:"Dashboard",href:"/dashboard"},{title:"Categories",href:"/dashboard/categories"}];function $t(Re){const e=ze.c(127),{categories:xe,filters:o}=Re,[ge,ue]=m.useState(!1),[je,_e]=m.useState(!1),[f,Fe]=m.useState(null),[z,Ie]=m.useState(null),[i,Ue]=m.useState(o.search||""),{flash:c}=Ge().props;let K;e[0]!==o.direction||e[1]!==o.field?(K=o.field?[{id:o.field,desc:o.direction==="desc"}]:[],e[0]=o.direction,e[1]=o.field,e[2]=K):K=e[2];const[n,$e]=m.useState(K);let Q;e[3]!==o.search||e[4]!==i||e[5]!==n?(Q=()=>{const s=setTimeout(()=>{i!==(o.search||"")&&Oe.get(J.categories.index().url,{search:i,field:n[0]?.id,direction:n[0]?n[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},e[3]=o.search,e[4]=i,e[5]=n,e[6]=Q):Q=e[6];let W;e[7]!==i?(W=[i],e[7]=i,e[8]=W):W=e[8],m.useEffect(Q,W);let X;e[9]!==i||e[10]!==n?(X=s=>{const a=typeof s=="function"?s(n):s;$e(a),Oe.get(J.categories.index().url,{search:i,field:a[0]?.id,direction:a[0]?a[0].desc?"desc":"asc":void 0},{preserveState:!0,replace:!0})},e[9]=i,e[10]=n,e[11]=X):X=e[11];const be=X;let Y;e[12]===Symbol.for("react.memo_cache_sentinel")?(Y={name:"",description:"",order:0,is_nav:!0,is_homepage:!1},e[12]=Y):Y=e[12];const{data:r,setData:l,post:ve,patch:Se,delete:Ce,processing:De,reset:ye,errors:Z}=Je(Y);let d,h,p;if(e[13]!==f||e[14]!==Se||e[15]!==ve||e[16]!==ye||e[17]!==l){h=a=>{a.preventDefault(),f?Se(J.categories.update(f.id).url,{onSuccess:()=>d()}):ve(J.categories.store().url,{onSuccess:()=>d()})};let s;e[21]!==l?(s=a=>{Fe(a),l({name:a.name,description:a.description||"",order:a.order,is_nav:a.is_nav,is_homepage:a.is_homepage}),ue(!0)},e[21]=l,e[22]=s):s=e[22],p=s,d=()=>{ue(!1),Fe(null),ye()},e[13]=f,e[14]=Se,e[15]=ve,e[16]=ye,e[17]=l,e[18]=d,e[19]=h,e[20]=p}else d=e[18],h=e[19],p=e[20];let V;e[23]===Symbol.for("react.memo_cache_sentinel")?(V=s=>{Ie(s),_e(!0)},e[23]=V):V=e[23];const qe=V;let ee;e[24]!==z||e[25]!==Ce?(ee=()=>{z&&Ce(J.categories.destroy(z.id).url,{onSuccess:()=>{_e(!1),Ie(null)}})},e[24]=z,e[25]=Ce,e[26]=ee):ee=e[26];const Ne=ee;let te;e[27]!==p?(te=ht(p,qe),e[27]=p,e[28]=te):te=e[28];const Ae=te;let se;e[29]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Ke,{title:"Categories"}),e[29]=se):se=e[29];let x;e[30]!==c.success?(x=c.success&&t.jsxs(Pe,{variant:"default",className:"border-green-500/50 bg-green-50 text-green-700 dark:bg-green-950/20 dark:text-green-400",children:[t.jsx(xt,{className:"h-4 w-4"}),t.jsx(Be,{children:"Success"}),t.jsx(Me,{children:c.success})]}),e[30]=c.success,e[31]=x):x=e[31];let g;e[32]!==c.error?(g=c.error&&t.jsxs(Pe,{variant:"destructive",children:[t.jsx(ft,{className:"h-4 w-4"}),t.jsx(Be,{children:"Error"}),t.jsx(Me,{children:c.error})]}),e[32]=c.error,e[33]=g):g=e[33];let le;e[34]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Manage Categories"}),e[34]=le):le=e[34];let u;e[35]!==d?(u=s=>!s&&d(),e[35]=d,e[36]=u):u=e[36];let re;e[37]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(rt,{asChild:!0,children:t.jsxs(He,{onClick:()=>ue(!0),children:[t.jsx(Qe,{className:"mr-2 h-4 w-4"})," Add Category"]})}),e[37]=re):re=e[37];const we=f?"Edit":"Create";let j;e[38]!==we?(j=t.jsx(it,{children:t.jsxs(at,{children:[we," Category"]})}),e[38]=we,e[39]=j):j=e[39];let ie;e[40]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(G,{htmlFor:"name",children:"Name"}),e[40]=ie):ie=e[40];let _;e[41]!==l?(_=s=>l("name",s.target.value),e[41]=l,e[42]=_):_=e[42];let b;e[43]!==r.name||e[44]!==_?(b=t.jsx(Ee,{id:"name",value:r.name,onChange:_}),e[43]=r.name,e[44]=_,e[45]=b):b=e[45];let v;e[46]!==Z.name?(v=Z.name&&t.jsx("p",{className:"text-sm text-red-500",children:Z.name}),e[46]=Z.name,e[47]=v):v=e[47];let S;e[48]!==b||e[49]!==v?(S=t.jsxs("div",{className:"grid gap-2",children:[ie,b,v]}),e[48]=b,e[49]=v,e[50]=S):S=e[50];let ae;e[51]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(G,{htmlFor:"description",children:"Description (Optional)"}),e[51]=ae):ae=e[51];let C;e[52]!==l?(C=s=>l("description",s.target.value),e[52]=l,e[53]=C):C=e[53];let D;e[54]!==r.description||e[55]!==C?(D=t.jsxs("div",{className:"grid gap-2",children:[ae,t.jsx(dt,{id:"description",value:r.description,onChange:C})]}),e[54]=r.description,e[55]=C,e[56]=D):D=e[56];let oe;e[57]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(G,{htmlFor:"order",children:"Display Order"}),e[57]=oe):oe=e[57];let y;e[58]!==l?(y=s=>l("order",parseInt(s.target.value)||0),e[58]=l,e[59]=y):y=e[59];let N;e[60]!==r.order||e[61]!==y?(N=t.jsxs("div",{className:"grid gap-2",children:[oe,t.jsx(Ee,{id:"order",type:"number",value:r.order,onChange:y})]}),e[60]=r.order,e[61]=y,e[62]=N):N=e[62];let A;e[63]!==l?(A=s=>l("is_nav",s),e[63]=l,e[64]=A):A=e[64];let w;e[65]!==r.is_nav||e[66]!==A?(w=t.jsx(Le,{id:"is_nav",checked:r.is_nav,onCheckedChange:A}),e[65]=r.is_nav,e[66]=A,e[67]=w):w=e[67];let ne;e[68]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(G,{htmlFor:"is_nav",children:"In Navbar"}),e[68]=ne):ne=e[68];let T;e[69]!==w?(T=t.jsx("div",{className:"flex flex-col justify-end gap-2 pb-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[w,ne]})}),e[69]=w,e[70]=T):T=e[70];let k;e[71]!==l?(k=s=>l("is_homepage",s),e[71]=l,e[72]=k):k=e[72];let E;e[73]!==r.is_homepage||e[74]!==k?(E=t.jsx(Le,{id:"is_homepage",checked:r.is_homepage,onCheckedChange:k}),e[73]=r.is_homepage,e[74]=k,e[75]=E):E=e[75];let ce;e[76]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(G,{htmlFor:"is_homepage",children:"In Home"}),e[76]=ce):ce=e[76];let F;e[77]!==E?(F=t.jsx("div",{className:"flex flex-col justify-end gap-2 pb-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[E,ce]})}),e[77]=E,e[78]=F):F=e[78];let I;e[79]!==N||e[80]!==T||e[81]!==F?(I=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N,T,F]}),e[79]=N,e[80]=T,e[81]=F,e[82]=I):I=e[82];const Te=f?"Update":"Save";let O;e[83]!==De||e[84]!==Te?(O=t.jsx(ot,{children:t.jsxs(He,{type:"submit",disabled:De,children:[Te," Category"]})}),e[83]=De,e[84]=Te,e[85]=O):O=e[85];let H;e[86]!==h||e[87]!==S||e[88]!==D||e[89]!==I||e[90]!==O?(H=t.jsxs("form",{onSubmit:h,className:"grid gap-4 py-4",children:[S,D,I,O]}),e[86]=h,e[87]=S,e[88]=D,e[89]=I,e[90]=O,e[91]=H):H=e[91];let L;e[92]!==j||e[93]!==H?(L=t.jsxs(nt,{className:"sm:max-w-[425px]",children:[j,H]}),e[92]=j,e[93]=H,e[94]=L):L=e[94];let P;e[95]!==ge||e[96]!==u||e[97]!==L?(P=t.jsxs("div",{className:"flex items-center justify-between",children:[le,t.jsxs(ct,{open:ge,onOpenChange:u,children:[re,L]})]}),e[95]=ge,e[96]=u,e[97]=L,e[98]=P):P=e[98];let de;e[99]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(We,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[99]=de):de=e[99];let me;e[100]===Symbol.for("react.memo_cache_sentinel")?(me=s=>Ue(s.target.value),e[100]=me):me=e[100];let B;e[101]!==i?(B=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative w-full max-w-sm",children:[de,t.jsx(Ee,{type:"search",placeholder:"Search categories...",className:"pl-8",value:i,onChange:me})]})}),e[101]=i,e[102]=B):B=e[102];let M;e[103]!==xe||e[104]!==be||e[105]!==n||e[106]!==Ae?(M=t.jsx(pt,{columns:Ae,data:xe,sorting:n,onSortingChange:be}),e[103]=xe,e[104]=be,e[105]=n,e[106]=Ae,e[107]=M):M=e[107];let fe;e[108]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Xe,{children:"Are you absolutely sure?"}),e[108]=fe):fe=e[108];const ke=z?.name;let R;e[109]!==ke?(R=t.jsxs(Ye,{children:[fe,t.jsxs(Ze,{children:["This action cannot be undone. This will permanently delete the category"," ",t.jsx("strong",{children:ke}),"."]})]}),e[109]=ke,e[110]=R):R=e[110];let he;e[111]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(Ve,{children:"Cancel"}),e[111]=he):he=e[111];let U;e[112]!==Ne?(U=t.jsxs(et,{children:[he,t.jsx(tt,{onClick:Ne,className:"bg-red-600 hover:bg-red-700 hover:text-white",children:"Delete"})]}),e[112]=Ne,e[113]=U):U=e[113];let $;e[114]!==R||e[115]!==U?($=t.jsxs(st,{children:[R,U]}),e[114]=R,e[115]=U,e[116]=$):$=e[116];let q;e[117]!==je||e[118]!==$?(q=t.jsx(lt,{open:je,onOpenChange:_e,children:$}),e[117]=je,e[118]=$,e[119]=q):q=e[119];let pe;return e[120]!==x||e[121]!==g||e[122]!==P||e[123]!==B||e[124]!==M||e[125]!==q?(pe=t.jsxs(mt,{breadcrumbs:gt,children:[se,t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-2 sm:p-4 md:p-6",children:[x,g,P,B,M,q]})]}),e[120]=x,e[121]=g,e[122]=P,e[123]=B,e[124]=M,e[125]=q,e[126]=pe):pe=e[126],pe}export{$t as default};
